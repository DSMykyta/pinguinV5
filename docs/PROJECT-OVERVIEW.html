<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–∏–Ω—Ü–∏–ø–∏ JS ‚Äî pinguin-v5</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" />
    <script src="../js/theme-init.js"></script>
    <style>
        * { font-size: revert; }

        body {
            display: flex !important;
            flex-direction: row !important;
            height: 100dvh !important;
            overflow: hidden !important;
            scroll-snap-type: none !important;
            padding: 0 !important;
            margin: 0 !important;
            max-width: none !important;
            background: var(--color-surface);
        }

        section {
            height: auto !important;
            min-height: auto !important;
            scroll-snap-align: none !important;
            overflow: visible !important;
        }

        .content-main, .nav.column, .section-navigator { display: none !important; }

        /* SIDEBAR */
        .m3-sidebar {
            width: 260px;
            min-width: 260px;
            height: 100dvh;
            overflow-y: auto;
            background: var(--color-surface-c-low);
            border-right: 1px solid var(--color-outline);
            padding: 24px 16px;
            position: sticky;
            top: 0;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        .m3-sidebar-title {
            font-size: 22px;
            font-weight: 600;
            padding: 8px 12px 20px;
            color: var(--color-on-surface);
            border-bottom: 1px solid var(--color-outline);
            margin-bottom: 12px;
        }
        .m3-sidebar-title span {
            font-size: 12px;
            font-weight: 400;
            color: var(--color-on-surface-v);
            display: block;
            margin-top: 2px;
        }
        .m3-nav-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            border-radius: var(--radius-full);
            color: var(--color-on-surface);
            text-decoration: none;
            font-size: 13px;
            font-weight: 400;
            transition: all 0.15s;
            cursor: pointer;
        }
        .m3-nav-item:hover { background: var(--color-surface-c); }
        .m3-nav-item.active {
            background: var(--color-main-c);
            color: var(--color-main);
            font-weight: 600;
        }
        .m3-nav-item .material-symbols-outlined { font-size: 20px; }

        /* MAIN */
        .m3-main { flex: 1; overflow-y: auto; padding: 0; }
        .m3-content { max-width: 960px; margin: 0 auto; padding: 40px 48px 80px; }

        /* HERO */
        .m3-hero {
            background: linear-gradient(135deg, var(--color-main) 0%, var(--color-secondary) 100%);
            border-radius: 28px;
            padding: 48px;
            margin-bottom: 40px;
            color: var(--color-on-main);
        }
        .m3-hero h1 { font-size: 40px; font-weight: 400; margin: 0 0 8px; color: inherit; }
        .m3-hero p { font-size: 16px; opacity: 0.85; margin: 0; max-width: 600px; line-height: 1.5; }

        /* SECTION */
        .m3-section { margin-bottom: 56px; scroll-margin-top: 24px; }
        .m3-section-title { font-size: 28px; font-weight: 400; color: var(--color-on-surface); margin: 0 0 8px; }
        .m3-section-desc {
            font-size: 14px;
            color: var(--color-on-surface-v);
            margin: 0 0 24px;
            line-height: 1.6;
            max-width: 640px;
        }

        /* SECTION HERO */
        .m3-section-hero {
            border-radius: 16px;
            padding: 20px 28px;
            margin-bottom: 28px;
            color: var(--color-on-secondary);
            background: linear-gradient(135deg, var(--color-secondary) 0%, var(--color-tertiary) 100%);
        }
        .m3-section-hero h2 {
            font-size: 22px;
            font-weight: 400;
            margin: 0 0 6px;
            color: inherit;
        }
        .m3-section-hero p {
            font-size: 13px;
            opacity: 0.88;
            margin: 0;
            max-width: 600px;
            line-height: 1.55;
            color: inherit;
        }

        /* BLOCK */
        .m3-block {
            margin-bottom: 32px;
            border: 1px solid var(--color-outline);
            border-radius: 16px;
            overflow: hidden;
            background: var(--color-surface);
        }
        .m3-block-header {
            padding: 20px 24px 16px;
            border-bottom: 1px solid var(--color-outline);
        }
        .m3-block-header h3 { font-size: 16px; font-weight: 600; margin: 0 0 4px; color: var(--color-on-surface); }
        .m3-block-header p { font-size: 13px; color: var(--color-on-surface-v); margin: 0; line-height: 1.5; }

        /* SPEC TABLE */
        .m3-spec { width: 100%; border-collapse: collapse; font-size: 13px; }
        .m3-spec th {
            text-align: left;
            padding: 10px 16px;
            font-weight: 600;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--color-on-surface-v);
            background: var(--color-surface-c-low);
            border-bottom: 1px solid var(--color-outline);
        }
        .m3-spec td {
            padding: 10px 16px;
            border-bottom: 1px solid var(--color-outline);
            color: var(--color-on-surface);
        }
        .m3-spec tr:last-child td { border-bottom: none; }
        .m3-spec code {
            font-family: 'Roboto Mono', monospace;
            font-size: 11px;
            background: var(--color-surface-c);
            padding: 2px 6px;
            border-radius: 4px;
        }

        /* THEME TOGGLE */
        .m3-theme-toggle { position: fixed; bottom: 24px; right: 24px; z-index: 9999; }

        /* SCROLLBAR */
        .m3-sidebar::-webkit-scrollbar, .m3-main::-webkit-scrollbar { width: 4px; }
        .m3-sidebar::-webkit-scrollbar-thumb, .m3-main::-webkit-scrollbar-thumb {
            background: var(--color-outline);
            border-radius: 4px;
        }

        /* LAW CARDS */
        .m3-law {
            display: flex;
            gap: 20px;
            padding: 20px 24px;
            border-bottom: 1px solid var(--color-outline);
            align-items: flex-start;
        }
        .m3-law:last-child { border-bottom: none; }
        .m3-law-num {
            font-size: 26px;
            font-weight: 700;
            color: var(--color-main);
            min-width: 28px;
            line-height: 1.15;
            font-variant-numeric: tabular-nums;
        }
        .m3-law-title { font-size: 14px; font-weight: 600; color: var(--color-on-surface); margin-bottom: 5px; }
        .m3-law-desc { font-size: 13px; color: var(--color-on-surface-v); line-height: 1.65; }

        /* CODE BLOCKS */
        .m3-code {
            padding: 16px 24px;
            border-top: 1px solid var(--color-outline);
            background: var(--color-surface-c-low);
            overflow-x: auto;
        }
.m3-code-label {
            font-size: 10px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: var(--color-main);
            margin-bottom: 10px;
        }
        .m3-code pre {
            margin: 0;
            font-family: 'Roboto Mono', 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.75;
            color: var(--color-on-surface);
            white-space: pre;
        }

        /* PART DIVIDERS */
        .m3-part {
            display: flex;
            align-items: center;
            gap: 14px;
            margin: 48px 0 20px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--color-outline);
        }
        .m3-part:first-of-type { margin-top: 0; }
        .m3-part-icon { font-size: 22px; color: var(--color-main); }
        .m3-part-title { font-size: 20px; font-weight: 600; color: var(--color-on-surface); flex: 1; }
        .m3-part-badge {
            font-size: 11px;
            font-weight: 600;
            padding: 3px 10px;
            border-radius: 100px;
            letter-spacing: 0.03em;
        }
        .m3-part-badge.locked {
            background: color-mix(in srgb, #ba1a1a 12%, transparent);
            color: #ba1a1a;
        }
        .m3-part-badge.removable {
            background: var(--color-main-c);
            color: var(--color-main);
        }
        .m3-part-badge.global {
            background: color-mix(in srgb, var(--color-secondary) 20%, transparent);
            color: var(--color-secondary, #7b5ea7);
        }

        /* FILE CARDS GRID */
        .m3-file-cards {
            display: grid;
            grid-template-columns: 1fr 1fr;
        }
        .m3-file-card {
            padding: 18px 22px;
            border-bottom: 1px solid var(--color-outline);
            border-right: 1px solid var(--color-outline);
        }
        .m3-file-card:nth-child(2n) { border-right: none; }
        .m3-file-card:nth-last-child(-n+2) { border-bottom: none; }
        .m3-file-card-name {
            font-family: 'Roboto Mono', monospace;
            font-size: 13px;
            font-weight: 700;
            color: var(--color-main);
            margin-bottom: 4px;
        }
        .m3-file-card-role {
            font-size: 13px;
            font-weight: 600;
            color: var(--color-on-surface);
            margin-bottom: 5px;
        }
        .m3-file-card-desc { font-size: 12px; color: var(--color-on-surface-v); line-height: 1.6; }

        /* HOOKS FLOW */
        .m3-hooks {
            display: flex;
            align-items: stretch;
            gap: 0;
        }
        .m3-hook-step {
            flex: 1;
            padding: 16px 18px;
            border-right: 1px solid var(--color-outline);
            position: relative;
        }
        .m3-hook-step:last-child { border-right: none; }
        .m3-hook-step-num {
            font-size: 10px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: var(--color-main);
            margin-bottom: 6px;
        }
        .m3-hook-step-title { font-size: 13px; font-weight: 600; color: var(--color-on-surface); margin-bottom: 4px; }
        .m3-hook-step-desc { font-size: 12px; color: var(--color-on-surface-v); line-height: 1.55; }

        /* VIOLATIONS */
        .m3-violations { padding: 0 24px 8px; }
        .m3-violation {
            display: flex;
            align-items: flex-start;
            gap: 14px;
            padding: 14px 0;
            border-bottom: 1px solid var(--color-outline);
        }
        .m3-violation:last-child { border-bottom: none; }
        .m3-violation-icon {
            font-size: 18px;
            flex-shrink: 0;
            margin-top: 1px;
            color: #ba1a1a;
        }
        .m3-violation-text { font-size: 13px; color: var(--color-on-surface); margin-bottom: 3px; }
        .m3-violation-fix { font-size: 12px; color: var(--color-on-surface-v); line-height: 1.5; }
    </style>
</head>

<body>

    <!-- SIDEBAR -->
    <aside class="m3-sidebar">
        <div class="m3-sidebar-title">
            –ü—Ä–∏–Ω—Ü–∏–ø–∏ JS
            <span>pinguin-v5</span>
        </div>

        <a href="#system" class="m3-nav-item active">
            <span class="material-symbols-outlined">schema</span>–°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–¥ –∫–æ–¥–æ–º
        </a>
        <a href="#core" class="m3-nav-item">
            <span class="material-symbols-outlined">hub</span>–Ø–¥—Ä–æ
        </a>
        <a href="#plugins" class="m3-nav-item">
            <span class="material-symbols-outlined">extension</span>–ü–ª–∞–≥—ñ–Ω–∏
        </a>
        <a href="#conventions" class="m3-nav-item">
            <span class="material-symbols-outlined">tips_and_updates</span>–ö–æ–Ω–≤–µ–Ω—Ü—ñ—ó
        </a>
        <a href="#charms" class="m3-nav-item">
            <span class="material-symbols-outlined">auto_fix_high</span>–®–∞—Ä–º–∏
        </a>
        <a href="#headers" class="m3-nav-item">
            <span class="material-symbols-outlined">code</span>–®–∞–ø–∫–∏ —Ñ–∞–π–ª—ñ–≤
        </a>
    </aside>

    <!-- MAIN -->
    <main class="m3-main">
        <div class="m3-content">

            <div class="m3-theme-toggle">
                <button class="fab"
                    onclick="document.documentElement.dataset.theme = document.documentElement.dataset.theme === 'dark' ? 'light' : 'dark'">
                    <span class="material-symbols-outlined">dark_mode</span>
                </button>
            </div>

            <!-- HERO -->
            <div class="m3-hero">
                <h1>–ü—Ä–∏–Ω—Ü–∏–ø–∏ JS</h1>
                <p>–°–∏—Å—Ç–µ–º–∞ –¥–∏–∫—Ç—É—î –∫–æ–¥ ‚Äî –Ω–µ –Ω–∞–≤–ø–∞–∫–∏. –¢—Ä–∏ –∑–∞–∫–æ–Ω–∏, –ø'—è—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤, –æ–¥–∏–Ω —à–∞–±–ª–æ–Ω. –ö–æ–∂–µ–Ω –Ω–æ–≤–∏–π –º–æ–¥—É–ª—å –≤–∏–≥–ª—è–¥–∞—î –æ–¥–Ω–∞–∫–æ–≤–æ.</p>
            </div>

            <!-- ============================================================ -->
            <!-- –°–ò–°–¢–ï–ú–ê –ü–ï–†–ï–î –ö–û–î–û–ú -->
            <!-- ============================================================ -->
            <section class="m3-section" id="system">
                <div class="m3-section-hero m3-section-hero--system">
                    <h2>–°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–¥ –∫–æ–¥–æ–º</h2>
                    <p>–ö–æ–¥ –ø—ñ–¥–∫–æ—Ä—è—î—Ç—å—Å—è —Å–∏—Å—Ç–µ–º—ñ ‚Äî –Ω–µ –Ω–∞–≤–ø–∞–∫–∏. –Ø–∫—â–æ –Ω–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—è –Ω–µ –≤–ø–∏—Å—É—î—Ç—å—Å—è –≤ —à–∞–±–ª–æ–Ω ‚Äî –∑–º—ñ–Ω—é–π –∫–æ–¥, –Ω–µ —Å–∏—Å—Ç–µ–º—É. –ö–æ–∂–µ–Ω –º–æ–¥—É–ª—å –≤–∏–≥–ª—è–¥–∞—î –æ–¥–Ω–∞–∫–æ–≤–æ. –õ—é–¥–∏–Ω–∞ –∑–Ω–∞—î –¥–µ —à—É–∫–∞—Ç–∏ —ñ —â–æ –æ—á—ñ–∫—É–≤–∞—Ç–∏ —â–µ –¥–æ —Ç–æ–≥–æ —è–∫ –≤—ñ–¥–∫—Ä–∏–ª–∞ —Ñ–∞–π–ª.</p>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–¢—Ä–∏ –∑–∞–∫–æ–Ω–∏</h3>
                    </div>
                    <div class="m3-law">
                        <div class="m3-law-num">I</div>
                        <div>
                            <div class="m3-law-title">–û–¥–∏–Ω —Ñ–∞–π–ª ‚Äî –æ–¥–Ω–∞ —Ä–æ–ª—å</div>
                            <div class="m3-law-desc">–§–∞–π–ª –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –ø–ª–∞–≥—ñ–Ω–∏, –∞–±–æ –∑–±–µ—Ä—ñ–≥–∞—î —Å—Ç–∞–Ω, –∞–±–æ –≥–µ–Ω–µ—Ä—É—î HTML, –∞–±–æ —Ä–µ–∞–ª—ñ–∑—É—î –æ–¥–Ω—É —Ñ—ñ—á—É. –ù—ñ–∫–æ–ª–∏ –Ω–µ –ø–æ—î–¥–Ω—É—î. –Ø–∫—â–æ —Ñ–∞–π–ª —Ä–æ–±–∏—Ç—å –¥–≤—ñ —Ä–µ—á—ñ ‚Äî —Ü–µ –¥–≤–∞ —Ñ–∞–π–ª–∏.</div>
                        </div>
                    </div>
                    <div class="m3-law">
                        <div class="m3-law-num">II</div>
                        <div>
                            <div class="m3-law-title">–ü–ª–∞–≥—ñ–Ω –Ω–µ –∑–Ω–∞—î –ø—Ä–æ —ñ–Ω—à—ñ –ø–ª–∞–≥—ñ–Ω–∏</div>
                            <div class="m3-law-desc">–Ñ–¥–∏–Ω–∏–π –∫–∞–Ω–∞–ª –º—ñ–∂ –ø–ª–∞–≥—ñ–Ω–∞–º–∏ ‚Äî <code>state</code> —á–µ—Ä–µ–∑ —Ö—É–∫–∏. –ü–ª–∞–≥—ñ–Ω –Ω–µ —ñ–º–ø–æ—Ä—Ç—É—î —ñ–Ω—à–∏–π –ø–ª–∞–≥—ñ–Ω, –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î —Ñ—É–Ω–∫—Ü—ñ—ó —Å—É—Å—ñ–¥—ñ–≤. –†–µ–∞–≥—É—î –Ω–∞ –ø–æ–¥—ñ—ó ‚Äî —ñ –≤—Å–µ.</div>
                        </div>
                    </div>
                    <div class="m3-law">
                        <div class="m3-law-num">III</div>
                        <div>
                            <div class="m3-law-title">–°–∏—Å—Ç–µ–º–∞ –Ω–µ –ø–∞–¥–∞—î —á–µ—Ä–µ–∑ –æ–¥–∏–Ω –ø–ª–∞–≥—ñ–Ω</div>
                            <div class="m3-law-desc"><code>Promise.allSettled</code> ‚Äî –∑–∞–≤–∂–¥–∏, –±–µ–∑ –≤–∏–∫–ª—é—á–µ–Ω—å. –•—É–∫–∏ –æ–±–≥–æ—Ä–Ω—É—Ç—ñ –≤ <code>try/catch</code>. –í–∏–¥–∞–ª—è—Ç–∏ –ø–ª–∞–≥—ñ–Ω –±–µ–∑–ø–µ—á–Ω–æ –≤ –±—É–¥—å-—è–∫–∏–π –º–æ–º–µ–Ω—Ç.</div>
                        </div>
                    </div>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–ö–æ–Ω—Ç—Ä–∞–∫—Ç —Ä—ñ–≤–Ω—ñ–≤</h3>
                        <p>–Ø–∫—â–æ –∫–æ–¥ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É ‚Äî –≤—ñ–Ω –ª–µ–∂–∏—Ç—å –Ω–µ –≤ —Ç–æ–º—É —Ñ–∞–π–ª—ñ. –ü–µ—Ä–µ–º—ñ—â—É–π –∫–æ–¥, –Ω–µ –ø—Ä–∞–≤–∏–ª–∞.</p>
                    </div>
                    <table class="m3-spec">
                        <thead>
                            <tr><th>–†—ñ–≤–µ–Ω—å</th><th>–ó–æ–±–æ–≤'—è–∑–∞–Ω–∏–π</th><th>–ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ</th></tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>-main.js</code></td>
                                <td>–ó–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –ø–ª–∞–≥—ñ–Ω–∏ —á–µ—Ä–µ–∑ <code>Promise.allSettled</code>. –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ <code>init*()</code> –∞–±–æ <code>create*()</code></td>
                                <td>–†–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ —Ñ—ñ—á—É –Ω–∞–ø—Ä—è–º—É. –ú–∞–Ω—ñ–ø—É–ª—é–≤–∞—Ç–∏ DOM. –ú—ñ—Å—Ç–∏—Ç–∏ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É</td>
                            </tr>
                            <tr>
                                <td><code>-state.js</code></td>
                                <td>–ó–±–µ—Ä—ñ–≥–∞—Ç–∏ —Å—Ç–∞–Ω. –†–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ <code>registerHook</code> / <code>runHook</code>. –ö–µ—à—É–≤–∞—Ç–∏ DOM-–ø–æ—Å–∏–ª–∞–Ω–Ω—è</td>
                                <td>–ó–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –ø–ª–∞–≥—ñ–Ω–∏. –ú–∞–Ω—ñ–ø—É–ª—é–≤–∞—Ç–∏ DOM. –ú—ñ—Å—Ç–∏—Ç–∏ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π</td>
                            </tr>
                            <tr>
                                <td><code>-template.js</code></td>
                                <td>–ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —ñ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ HTML-—Ä—è–¥–æ–∫ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó</td>
                                <td>–í—Å—Ç–∞–≤–ª—è—Ç–∏ HTML –≤ DOM. –í—ñ—à–∞—Ç–∏ <code>addEventListener</code>. –ó–Ω–∞—Ç–∏ –ø—Ä–æ <code>state</code></td>
                            </tr>
                            <tr>
                                <td><code>-core.js</code></td>
                                <td>–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –±–∞–∑–æ–≤—É DOM-–ª–æ–≥—ñ–∫—É. –ó–∞–ø—É—Å–∫–∞—Ç–∏ <code>state.runHook()</code> –≤ –∫–ª—é—á–æ–≤–∏—Ö —Ç–æ—á–∫–∞—Ö</td>
                                <td>–†–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ –æ–∫—Ä–µ–º—ñ —Ñ—ñ—á—ñ. –ó–Ω–∞—Ç–∏ –ø—Ä–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø–ª–∞–≥—ñ–Ω–∏</td>
                            </tr>
                            <tr>
                                <td>plugin</td>
                                <td>–ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ <code>function init(state)</code>. –†–µ–∞–≥—É–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ <code>state.registerHook()</code>. –ó–∞–≤–∂–¥–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ <code>{ plugin: 'name' }</code>. –Ø–∫—â–æ —î –∑–æ–≤–Ω—ñ—à–Ω—ñ –ø—ñ–¥–ø–∏—Å–∫–∏ ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ <code>{ dispose() }</code></td>
                                <td>–Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —ñ–Ω—à—ñ –ø–ª–∞–≥—ñ–Ω–∏. –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –¥–∞–Ω—ñ –ø–æ–∑–∞ <code>state</code>. –ü–æ–∫–ª–∞–¥–∞—Ç–∏—Å—è –Ω–∞ –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –Ω–æ–≤–∏–π –º–æ–¥—É–ª—å</h3>
                        <p>–¢—Ä–∏ —Ñ–∞–π–ª–∏ ‚Äî –ø–æ–≤–Ω–∞ –õ–ï–ì–û-—Å–∏—Å—Ç–µ–º–∞. –ù–æ–≤–∞ —Ñ—ñ—á–∞ = –Ω–æ–≤–∏–π –ø–ª–∞–≥—ñ–Ω. –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ—ñ—á—ñ = –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ñ–∞–π–ª—É.</p>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">my-main.js ‚Äî —Ñ–∞–±—Ä–∏–∫–∞ —ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—á</div>
<pre>import { createMyState } from './my-state.js';

const PLUGINS = [
    './my-feature-a.js',
    './my-feature-b.js',
];

export async function initMyModule() {
    const state = createMyState();
    const results = await Promise.allSettled(PLUGINS.map(p => import(p)));
    results.forEach(r => r.status === 'fulfilled' && r.value.init?.(state));
}</pre>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">my-state.js ‚Äî —Å—Ç–∞–Ω —ñ —Ö—É–∫–∏ (—î–¥–∏–Ω–µ –¥–∂–µ—Ä–µ–ª–æ –ø—Ä–∞–≤–¥–∏)</div>
<pre>export function createMyState() {
    const hooks = {};
    const filters = {};
    return {
        data: [],
        registerHook: (name, fn, opts = {}) => {
            (hooks[name] ??= []).push({ fn, plugin: opts.plugin ?? '?' });
        },
        runHook: (name, ...args) => hooks[name]?.forEach(({ fn, plugin }) => {
            try { fn(...args) } catch (e) { console.error(`[${name}/${plugin}]`, e) }
        }),
        registerFilter: (name, fn) => (filters[name] ??= []).push(fn),
        applyFilter: (name, value, ...args) =>
            (filters[name] ?? []).reduce((v, fn) => fn(v, ...args), value),
    };
}</pre>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">my-feature-a.js ‚Äî –ø–ª–∞–≥—ñ–Ω (–º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏, —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –≤–ø–∞–¥–µ)</div>
<pre>export function init(state) {
    state.registerHook('onDidUpdate', () => { /* —Ä–µ–∞–∫—Ü—ñ—è –Ω–∞ –ø–æ–¥—ñ—é */ }, { plugin: 'feature-a' });
    state.registerHook('onWillRender', () => { /* —Ä–µ–∞–∫—Ü—ñ—è –Ω–∞ —Ä–µ–Ω–¥–µ—Ä */ }, { plugin: 'feature-a' });
}</pre>
                    </div>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–ü–æ—Ä—É—à–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏</h3>
                        <p>–Ø–∫—â–æ –±–∞—á–∏—à –æ–¥–Ω–µ –∑ —Ü—å–æ–≥–æ ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ø–æ—Ä—É—à–µ–Ω–∞. –†–µ—Ñ–∞–∫—Ç–æ—Ä –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π, –≤–∏–∫–ª—é—á–µ–Ω—å –Ω–µ–º–∞—î.</p>
                    </div>
                    <div class="m3-violations">
                        <div class="m3-violation">
                            <span class="material-symbols-outlined m3-violation-icon">block</span>
                            <div>
                                <div class="m3-violation-text">–ü–ª–∞–≥—ñ–Ω —ñ–º–ø–æ—Ä—Ç—É—î —ñ–Ω—à–∏–π –ø–ª–∞–≥—ñ–Ω</div>
                                <div class="m3-violation-fix">‚Üí –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–ø—ñ–ª—å–Ω—É –ª–æ–≥—ñ–∫—É –≤ <code>-state.js</code> –∞–±–æ <code>-core.js</code>. –ö–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è —Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ —Ö—É–∫–∏.</div>
                            </div>
                        </div>
                        <div class="m3-violation">
                            <span class="material-symbols-outlined m3-violation-icon">block</span>
                            <div>
                                <div class="m3-violation-text"><code>-main.js</code> –º—ñ—Å—Ç–∏—Ç—å –ª–æ–≥—ñ–∫—É —Ñ—ñ—á—ñ (–Ω–µ –ø—Ä–æ—Å—Ç–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –ø–ª–∞–≥—ñ–Ω–∏)</div>
                                <div class="m3-violation-fix">‚Üí –í–∏—Ç—è–≥–Ω—É—Ç–∏ —É –ø–ª–∞–≥—ñ–Ω –∞–±–æ –≤ <code>-core.js</code>. Main ‚Äî —Ç—ñ–ª—å–∫–∏ bootstrap.</div>
                            </div>
                        </div>
                        <div class="m3-violation">
                            <span class="material-symbols-outlined m3-violation-icon">block</span>
                            <div>
                                <div class="m3-violation-text"><code>-state.js</code> –º—ñ—Å—Ç–∏—Ç—å <code>querySelector</code> –∞–±–æ –º–∞–Ω—ñ–ø—É–ª—é—î DOM</div>
                                <div class="m3-violation-fix">‚Üí State –∑–±–µ—Ä—ñ–≥–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è, –Ω–µ –º–∞–Ω—ñ–ø—É–ª—é—î. DOM-–ª–æ–≥—ñ–∫–∞ ‚Äî –≤ <code>-core.js</code> –∞–±–æ –ø–ª–∞–≥—ñ–Ω.</div>
                            </div>
                        </div>
                        <div class="m3-violation">
                            <span class="material-symbols-outlined m3-violation-icon">block</span>
                            <div>
                                <div class="m3-violation-text"><code>-template.js</code> –≤—Å—Ç–∞–≤–ª—è—î HTML –≤ DOM –∞–±–æ –≤—ñ—à–∞—î <code>addEventListener</code></div>
                                <div class="m3-violation-fix">‚Üí Template –ø–æ–≤–µ—Ä—Ç–∞—î —Ä—è–¥–æ–∫. –í—Å—Ç–∞–≤–∫–∞ ‚Äî –≤ main, –ø–æ–¥—ñ—ó ‚Äî –≤ –ø–ª–∞–≥—ñ–Ω –∞–±–æ core.</div>
                            </div>
                        </div>
                        <div class="m3-violation">
                            <span class="material-symbols-outlined m3-violation-icon">block</span>
                            <div>
                                <div class="m3-violation-text"><code>Promise.all</code> –∑–∞–º—ñ—Å—Ç—å <code>Promise.allSettled</code> –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø–ª–∞–≥—ñ–Ω—ñ–≤</div>
                                <div class="m3-violation-fix">‚Üí –ó–∞–≤–∂–¥–∏ <code>allSettled</code>. –û–¥–∏–Ω –ø–ª–∞–≥—ñ–Ω —â–æ –≤–ø–∞–≤ –Ω–µ –∑—É–ø–∏–Ω—è—î —Ä–µ—à—Ç—É.</div>
                            </div>
                        </div>
                        <div class="m3-violation">
                            <span class="material-symbols-outlined m3-violation-icon">block</span>
                            <div>
                                <div class="m3-violation-text">–ü–ª–∞–≥—ñ–Ω –∑–±–µ—Ä—ñ–≥–∞—î –¥–∞–Ω—ñ –≤ –º–æ–¥—É–ª—å–Ω—ñ–π –∑–º—ñ–Ω–Ω—ñ–π –ø–æ–∑–∞ <code>state</code></div>
                                <div class="m3-violation-fix">‚Üí –í–µ—Å—å —Å—Ç–∞–Ω ‚Äî —É <code>state</code>. –Ü–Ω–∞–∫—à–µ –Ω–µ–º–æ–∂–ª–∏–≤–æ —ñ–∑–æ–ª—é–≤–∞—Ç–∏ –¥–µ–∫—ñ–ª—å–∫–∞ –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤.</div>
                            </div>
                        </div>
                        <div class="m3-violation">
                            <span class="material-symbols-outlined m3-violation-icon">block</span>
                            <div>
                                <div class="m3-violation-text">–ü–ª–∞–≥—ñ–Ω –ø–æ–∫–ª–∞–¥–∞—î—Ç—å—Å—è –Ω–∞ —Ç–µ, —â–æ —ñ–Ω—à–∏–π –ø–ª–∞–≥—ñ–Ω –≤–∂–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–π</div>
                                <div class="m3-violation-fix">‚Üí –ü–ª–∞–≥—ñ–Ω–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ. –ü–æ—Ä—è–¥–æ–∫ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∏–π –Ω—ñ–∫–æ–ª–∏.</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ============================================================ -->
            <!-- –Ø–î–†–û -->
            <!-- ============================================================ -->
            <section class="m3-section" id="core">
                <div class="m3-section-hero m3-section-hero--core">
                    <h2>–Ø–¥—Ä–æ</h2>
                    <p>–§–∞–π–ª–∏ –±–µ–∑ —è–∫–∏—Ö –º–æ–¥—É–ª—å –Ω–µ —ñ—Å–Ω—É—î. –ü–æ–∑–Ω–∞—á–µ–Ω—ñ –º—ñ—Ç–∫–æ—é üîí –Ø–î–†–û –≤ —à–∞–ø—Ü—ñ. –Ø–∫—â–æ –æ–¥–Ω–æ–≥–æ –Ω–µ —Å—Ç–∞—î ‚Äî —Å–∏—Å—Ç–µ–º–∞ –Ω–µ —Å—Ç–∞—Ä—Ç—É—î.</p>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–ß–æ—Ç–∏—Ä–∏ —Ñ–∞–π–ª–∏ ‚Äî —á–æ—Ç–∏—Ä–∏ —Ä–æ–ª—ñ</h3>
                        <p>–ö–æ–∂–µ–Ω –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –æ–¥–Ω–µ. –ù—ñ–∫–æ–ª–∏ –Ω–µ –ø–æ—î–¥–Ω—É—é—Ç—å—Å—è –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª.</p>
                    </div>
                    <div class="m3-file-cards">
                        <div class="m3-file-card">
                            <div class="m3-file-card-name">-main.js</div>
                            <div class="m3-file-card-role">–§–∞–±—Ä–∏–∫–∞ —ñ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä</div>
                            <div class="m3-file-card-desc">–°—Ç–≤–æ—Ä—é—î –µ–∫–∑–µ–º–ø–ª—è—Ä, –≤—Å—Ç–∞–≤–ª—è—î HTML –≤ DOM, –∑–∞–ø—É—Å–∫–∞—î —è–¥—Ä–æ, –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –ø–ª–∞–≥—ñ–Ω–∏ —á–µ—Ä–µ–∑ <code>Promise.allSettled</code>. –Ñ–¥–∏–Ω–∞ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É.</div>
                        </div>
                        <div class="m3-file-card">
                            <div class="m3-file-card-name">-state.js</div>
                            <div class="m3-file-card-role">–Ñ–¥–∏–Ω–µ –¥–∂–µ—Ä–µ–ª–æ –ø—Ä–∞–≤–¥–∏</div>
                            <div class="m3-file-card-desc">–ñ–∏–≤–∏–π –æ–±'—î–∫—Ç —â–æ –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –≤ –∫–æ–∂–µ–Ω –ø–ª–∞–≥—ñ–Ω. –ó–±–µ—Ä—ñ–≥–∞—î –¥–∞–Ω—ñ, DOM-–ø–æ—Å–∏–ª–∞–Ω–Ω—è, —Ä–µ—î—Å—Ç—Ä —Ö—É–∫—ñ–≤. –ü–ª–∞–≥—ñ–Ω–∏ —á–∏—Ç–∞—é—Ç—å —ñ –ø–∏—à—É—Ç—å —Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ –Ω—å–æ–≥–æ.</div>
                        </div>
                        <div class="m3-file-card">
                            <div class="m3-file-card-name">-template.js</div>
                            <div class="m3-file-card-role">HTML-—Ñ–∞–±—Ä–∏–∫–∞</div>
                            <div class="m3-file-card-desc">–ì–µ–Ω–µ—Ä—É—î —Ä–æ–∑–º—ñ—Ç–∫—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó. –ü–æ–≤–µ—Ä—Ç–∞—î —Ä—è–¥–æ–∫. –ù—ñ—á–æ–≥–æ –Ω–µ –≤—Å—Ç–∞–≤–ª—è—î –≤ DOM, –Ω–µ –∑–Ω–∞—î –ø—Ä–æ state.</div>
                        </div>
                        <div class="m3-file-card">
                            <div class="m3-file-card-name">-core.js</div>
                            <div class="m3-file-card-role">–ë–∞–∑–æ–≤–∞ DOM-–ª–æ–≥—ñ–∫–∞</div>
                            <div class="m3-file-card-desc">–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î core-–ø–æ–≤–µ–¥—ñ–Ω–∫—É, –≤—ñ—à–∞—î –±–∞–∑–æ–≤—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π, –∑–∞–ø—É—Å–∫–∞—î <code>state.runHook()</code> –≤ –∫–ª—é—á–æ–≤–∏—Ö —Ç–æ—á–∫–∞—Ö. –ù–µ –∑–Ω–∞—î –ø—Ä–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø–ª–∞–≥—ñ–Ω–∏.</div>
                        </div>
                    </div>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>State ‚Äî —Å–ø—ñ–ª—å–Ω–∞ —à–∏–Ω–∞ –º—ñ–∂ —É—Å—ñ–º–∞ —Ä—ñ–≤–Ω—è–º–∏</h3>
                        <p>–ü–ª–∞–≥—ñ–Ω–∏ –Ω–µ –∑–Ω–∞—é—Ç—å –æ–¥–Ω–µ –ø—Ä–æ –æ–¥–Ω–æ–≥–æ. –í–æ–Ω–∏ —Å–ø—ñ–ª–∫—É—é—Ç—å—Å—è –≤–∏–∫–ª—é—á–Ω–æ —á–µ—Ä–µ–∑ <code>state</code> ‚Äî –ø—ñ–¥–ø–∏—Å—É—é—Ç—å—Å—è –Ω–∞ –ø–æ–¥—ñ—ó —ñ –∑–∞–ø—É—Å–∫–∞—é—Ç—å —ó—Ö.</p>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ state-–æ–±'—î–∫—Ç–∞</div>
<pre>const state = {
    // –î–∞–Ω—ñ
    data: [],
    config: { ... },

    // DOM-–ø–æ—Å–∏–ª–∞–Ω–Ω—è (–∫–µ—à—É—é—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –≤ -main.js)
    dom: { container, toolbar, editor, ... },

    // –•—É–∫-—à–∏–Ω–∞ ‚Äî —Ä–µ–∞–∫—Ü—ñ—è –Ω–∞ –ø–æ–¥—ñ—ó (side effects)
    registerHook(name, fn, opts = {}) {
        (hooks[name] ??= []).push({ fn, plugin: opts.plugin ?? '?' });
    },
    runHook(name, ...args) {
        hooks[name]?.forEach(({ fn, plugin }) => {
            try { fn(...args) } catch(e) { console.error(`[${name}/${plugin}]`, e) }
        });
    },

    // –§—ñ–ª—å—Ç—Ä-—à–∏–Ω–∞ ‚Äî —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–æ–º
    registerFilter(name, fn) { (filters[name] ??= []).push(fn); },
    applyFilter(name, value, ...args) {
        return (filters[name] ?? []).reduce((v, fn) => fn(v, ...args), value);
    },
}</pre>
                    </div>
                </div>
            </section>

            <!-- ============================================================ -->
            <!-- –ü–õ–ê–ì–Ü–ù–ò -->
            <!-- ============================================================ -->
            <section class="m3-section" id="plugins">
                <div class="m3-section-hero m3-section-hero--plugins">
                    <h2>–ü–ª–∞–≥—ñ–Ω–∏</h2>
                    <p>–ö–æ–∂–µ–Ω –ø–ª–∞–≥—ñ–Ω ‚Äî –æ–∫—Ä–µ–º–∏–π —Ñ–∞–π–ª, –æ–¥–Ω–∞ —Ñ—ñ—á–∞. –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ. –ú–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏ –±—É–¥—å-—è–∫–∏–π ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–≤–∂—É—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏. –ü–æ–∑–Ω–∞—á–µ–Ω—ñ üîå –ü–õ–ê–ì–Ü–ù –≤ —à–∞–ø—Ü—ñ.</p>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–Ñ–¥–∏–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –≤—Å—ñ—Ö –ø–ª–∞–≥—ñ–Ω—ñ–≤</h3>
                        <p>–û–¥–∏–Ω –ø—É–±–ª—ñ—á–Ω–∏–π –º–µ—Ç–æ–¥. –ó–∞–≤–∂–¥–∏. –ù—ñ—è–∫–∏—Ö –≤–∏–Ω—è—Ç–∫—ñ–≤.</p>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">–®–∞–±–ª–æ–Ω –ø–ª–∞–≥—ñ–Ω–∞ ‚Äî –∑–∞–≤–∂–¥–∏ –æ–¥–Ω–∞–∫–æ–≤–∏–π</div>
<pre>// js/components/editor/editor-formatting.js
// üîå –ü–õ–ê–ì–Ü–ù

export function init(state) {
    const { dom } = state;

    // –ü—ñ–¥–ø–∏—Å—É—î–º–æ—Å—å –Ω–∞ –ø–æ–¥—ñ—ó —è–¥—Ä–∞ ‚Äî –∑–∞–≤–∂–¥–∏ –∑ { plugin: 'name' }
    state.registerHook('onDidInput', () => updateToolbarState(state), { plugin: 'formatting' });
    state.registerHook('onDidSelectionChange', () => updateToolbarState(state), { plugin: 'formatting' });

    // –†–µ–∞–≥—É—î–º–æ –Ω–∞ UI-–ø–æ–¥—ñ—ó
    dom.toolbar?.addEventListener('click', e => {
        const btn = e.target.closest('[data-action]');
        if (!btn) return;
        applyFormat(state, btn.dataset.action);
    });
}</pre>
                    </div>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–Ø–∫ –ø–ª–∞–≥—ñ–Ω–∏ —Å–ø—ñ–ª–∫—É—é—Ç—å—Å—è ‚Äî —á–µ—Ä–µ–∑ —Ö—É–∫–∏</h3>
                        <p>–ü–ª–∞–≥—ñ–Ω –Ω—ñ–∫–æ–ª–∏ –Ω–µ —ñ–º–ø–æ—Ä—Ç—É—î —ñ–Ω—à–∏–π –ø–ª–∞–≥—ñ–Ω. –¢—ñ–ª—å–∫–∏ –ø—ñ–¥–ø–∏—Å–∫–∞ —ñ —Ä–µ–∞–∫—Ü—ñ—è —á–µ—Ä–µ–∑ <code>state</code>.</p>
                    </div>
                    <div class="m3-hooks">
                        <div class="m3-hook-step">
                            <div class="m3-hook-step-num">1 ‚Äî –ü—ñ–¥–ø–∏—Å–∫–∞</div>
                            <div class="m3-hook-step-title">registerHook</div>
                            <div class="m3-hook-step-desc">–ü—Ä–∏ <code>init(state)</code> –ø–ª–∞–≥—ñ–Ω —Ä–µ—î—Å—Ç—Ä—É—î callback –Ω–∞ –ø–æ–¥—ñ—é. –ú–æ–∂–µ –ø—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—å –Ω–∞ –∫—ñ–ª—å–∫–∞ —Ö—É–∫—ñ–≤.</div>
                        </div>
                        <div class="m3-hook-step">
                            <div class="m3-hook-step-num">2 ‚Äî –¢—Ä–∏–≥–µ—Ä</div>
                            <div class="m3-hook-step-title">runHook</div>
                            <div class="m3-hook-step-desc">–Ø–¥—Ä–æ –∞–±–æ –ø–ª–∞–≥—ñ–Ω –≤–∏–∫–ª–∏–∫–∞—î <code>state.runHook('onInput')</code>. –í—Å—ñ –ø—ñ–¥–ø–∏—Å–Ω–∏–∫–∏ –æ—Ç—Ä–∏–º—É—é—Ç—å –≤–∏–∫–ª–∏–∫ –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ.</div>
                        </div>
                        <div class="m3-hook-step">
                            <div class="m3-hook-step-num">3 ‚Äî –†–µ–∞–∫—Ü—ñ—è</div>
                            <div class="m3-hook-step-title">callback</div>
                            <div class="m3-hook-step-desc">–ö–æ–∂–µ–Ω –ø–ª–∞–≥—ñ–Ω —Ä–µ–∞–≥—É—î –Ω–µ–∑–∞–ª–µ–∂–Ω–æ. –ü–æ–º–∏–ª–∫–∞ –≤ –æ–¥–Ω–æ–º—É –Ω–µ –∑—É–ø–∏–Ω—è—î —ñ–Ω—à–∏—Ö ‚Äî <code>try/catch</code> –≤ <code>runHook</code>.</div>
                        </div>
                    </div>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–ü–ª–∞–≥—ñ–Ω–∏ –≤ —Ä–µ–∞–ª—å–Ω–∏—Ö –º–æ–¥—É–ª—è—Ö</h3>
                    </div>
                    <table class="m3-spec">
                        <thead>
                            <tr><th>–ú–æ–¥—É–ª—å</th><th>–ü–ª–∞–≥—ñ–Ω–∏</th></tr>
                        </thead>
                        <tbody>
                            <tr><td><code>editor/</code></td><td>formatting, case, undo, validation, find, stats, paste, cleanup, enter, chip-navigation, tooltip</td></tr>
                            <tr><td><code>avatar/</code></td><td>avatar-user, avatar-ui-states, avatar-modal, avatar-selector, avatar-text</td></tr>
                            <tr><td><code>table/</code></td><td>table-sorting, table-filters, table-checkboxes, table-columns</td></tr>
                            <tr><td>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∏</td><td>–ö–æ–∂–µ–Ω generator –º–∞—î –≤–ª–∞—Å–Ω–∏–π –º–∞—Å–∏–≤ PLUGINS ‚Äî triggers, reset, copy, aside...</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- ============================================================ -->
            <!-- –ö–û–ù–í–ï–ù–¶–Ü–á -->
            <!-- ============================================================ -->
            <section class="m3-section" id="conventions">
                <div class="m3-section-hero">
                    <h2>–ö–æ–Ω–≤–µ–Ω—Ü—ñ—ó</h2>
                    <p>–û–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø—Ä–∞–≤–∏–ª–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∫–æ–¥—É. –ù–µ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç. –ö–æ–∂–µ–Ω –Ω–æ–≤–∏–π —Ñ–∞–π–ª –ø–∏—à–µ—Ç—å—Å—è –∑–∞ —Ü–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –±–µ–∑ –≤–∏–∫–ª—é—á–µ–Ω—å.</p>
                </div>

                <!-- Named plugins -->
                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>Named plugins ‚Äî —ñ–º'—è –ø–ª–∞–≥—ñ–Ω–∞ –≤ –∫–æ–∂–Ω–æ–º—É —Ö—É–∫—É</h3>
                        <p>–¢—Ä–µ—Ç—ñ–π –∞—Ä–≥—É–º–µ–Ω—Ç <code>registerHook</code> ‚Äî –∑–∞–≤–∂–¥–∏ –æ–±'—î–∫—Ç –∑ —ñ–º–µ–Ω–µ–º –ø–ª–∞–≥—ñ–Ω–∞. –ö–æ–ª–∏ —â–æ—Å—å –ø–∞–¥–∞—î ‚Äî –∫–æ–Ω—Å–æ–ª—å –æ–¥—Ä–∞–∑—É –ø–æ–∫–∞–∑—É—î –¥–µ —à—É–∫–∞—Ç–∏.</p>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">‚ùå –ë–µ–∑ —ñ–º–µ–Ω—ñ ‚Äî –Ω–µ–∑—Ä–æ–∑—É–º—ñ–ª–∞ –ø–æ–º–∏–ª–∫–∞</div>
<pre>state.registerHook('onDidUpdate', () => recalc(state));
// –ü–æ–º–∏–ª–∫–∞: [onDidUpdate/?] Cannot read properties of null
// ‚Üí –î–µ —à—É–∫–∞—Ç–∏? –ù–µ–≤—ñ–¥–æ–º–æ.</pre>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">‚úÖ –ó —ñ–º–µ–Ω–µ–º ‚Äî –ø–æ–º–∏–ª–∫–∞ –≤–∫–∞–∑—É—î –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –ø–ª–∞–≥—ñ–Ω</div>
<pre>state.registerHook('onDidUpdate', () => recalc(state), { plugin: 'stats' });
// –ü–æ–º–∏–ª–∫–∞: [onDidUpdate/stats] Cannot read properties of null
// ‚Üí –û–¥—Ä–∞–∑—É –∑–Ω–∞—î–º–æ: editor-stats.js</pre>
                    </div>
                </div>

                <!-- onDid / onWill -->
                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–ù–∞–∑–≤–∏ —Ö—É–∫—ñ–≤ ‚Äî <code>onWill</code> —ñ <code>onDid</code></h3>
                        <p>–ü—Ä–µ—Ñ—ñ–∫—Å –≥–æ–≤–æ—Ä–∏—Ç—å —á–∏ —Ö—É–∫ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î –î–û –ø–æ–¥—ñ—ó —á–∏ –ü–Ü–°–õ–Ø. –ß–∏—Ç–∞—î—à –Ω–∞–∑–≤—É ‚Äî –æ–¥—Ä–∞–∑—É —Ä–æ–∑—É–º—ñ—î—à –±–µ–∑ –∫–æ–¥—É.</p>
                    </div>
                    <table class="m3-spec">
                        <thead>
                            <tr><th>–ü—Ä–µ—Ñ—ñ–∫—Å</th><th>–ö–æ–ª–∏ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î</th><th>–ü—Ä–∏–∫–ª–∞–¥–∏</th></tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>onWill</code></td>
                                <td>–ü–µ—Ä–µ–¥ –ø–æ–¥—ñ—î—é ‚Äî –º–æ–∂–Ω–∞ —â–µ —â–æ—Å—å –ø—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏</td>
                                <td><code>onWillRender</code>, <code>onWillSave</code></td>
                            </tr>
                            <tr>
                                <td><code>onDid</code></td>
                                <td>–ü—ñ—Å–ª—è –ø–æ–¥—ñ—ó ‚Äî –≤–∂–µ –≤—ñ–¥–±—É–ª–æ—Å—å, —Ä–µ–∞–≥—É—î–º–æ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç</td>
                                <td><code>onDidRender</code>, <code>onDidInput</code>, <code>onDidSave</code></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Viewless -->
                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>Viewless-–ø–æ–∑–Ω–∞—á–µ–Ω–Ω—è –ø–ª–∞–≥—ñ–Ω—ñ–≤ –±–µ–∑ UI</h3>
                        <p>–ü–ª–∞–≥—ñ–Ω —â–æ –Ω–µ –º–∞–Ω—ñ–ø—É–ª—é—î DOM –ø–æ–∑–Ω–∞—á–∞—î—Ç—å—Å—è <code>(viewless)</code> –≤ —à–∞–ø—Ü—ñ. –í—ñ–¥–∫—Ä–∏–≤ —Ñ–∞–π–ª ‚Äî –∑–∞ —Å–µ–∫—É–Ω–¥—É –∑—Ä–æ–∑—É–º—ñ–≤ –π–æ–≥–æ —Ä–æ–ª—å.</p>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">–ü–ª–∞–≥—ñ–Ω –±–µ–∑ UI ‚Äî (viewless)</div>
<pre>// js/components/editor/editor-stats.js
// üîå –ü–õ–ê–ì–Ü–ù (viewless) ‚Äî –Ω–µ –º–∞–Ω—ñ–ø—É–ª—é—î DOM

export function init(state) {
    state.registerHook('onDidInput', () => calcStats(state), { plugin: 'stats' });
}</pre>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">–ü–ª–∞–≥—ñ–Ω –∑ UI ‚Äî –±–µ–∑ –ø–æ–∑–Ω–∞—á–µ–Ω–Ω—è</div>
<pre>// js/components/editor/editor-formatting.js
// üîå –ü–õ–ê–ì–Ü–ù

export function init(state) {
    // –ú–∞–Ω—ñ–ø—É–ª—é—î DOM —á–µ—Ä–µ–∑ state.dom.toolbar
}</pre>
                    </div>
                </div>

                <!-- Disposable pattern -->
                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>Disposable ‚Äî –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è –∑–∞ —Å–æ–±–æ—é</h3>
                        <p>–Ø–∫—â–æ –ø–ª–∞–≥—ñ–Ω –ø—ñ–¥–ø–∏—Å—É—î—Ç—å—Å—è –Ω–∞ –∑–æ–≤–Ω—ñ—à–Ω—ñ –ø–æ–¥—ñ—ó (<code>window</code>, <code>document</code>) ‚Äî –≤—ñ–Ω –ø–æ–≤–µ—Ä—Ç–∞—î <code>{ dispose() }</code>. Core –∑–±–∏—Ä–∞—î —Ü—ñ –æ–±'—î–∫—Ç–∏ —ñ –≤–∏–∫–ª–∏–∫–∞—î <code>dispose()</code> –ø—Ä–∏ –∑–Ω–∏—â–µ–Ω–Ω—ñ –º–æ–¥—É–ª—è. –ë–µ–∑ —Ü—å–æ–≥–æ —Å—Ç–∞—Ä—ñ callbacks –Ω–∞–∫–æ–ø–∏—á—É—é—Ç—å—Å—è –≤ –ø–∞–º'—è—Ç—ñ –ø—Ä–∏ –∫–æ–∂–Ω—ñ–π —Ä–µ—ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó.</p>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">–ü–ª–∞–≥—ñ–Ω –∑ –∑–æ–≤–Ω—ñ—à–Ω—å–æ—é –ø—ñ–¥–ø–∏—Å–∫–æ—é ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î dispose</div>
<pre>export function init(state) {
    const onResize = () => updateLayout(state);
    window.addEventListener('resize', onResize);

    state.registerHook('onDidRender', render, { plugin: 'layout' });

    return {
        dispose() {
            window.removeEventListener('resize', onResize);
        }
    };
}</pre>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">-main.js ‚Äî –∑–±–∏—Ä–∞—î disposables</div>
<pre>const results = await Promise.allSettled(PLUGINS.map(p => import(p)));
const disposables = results
    .filter(r => r.status === 'fulfilled')
    .map(r => r.value.init?.(state))
    .filter(Boolean);

// –ü—Ä–∏ –∑–Ω–∏—â–µ–Ω–Ω—ñ –º–æ–¥—É–ª—è:
// disposables.forEach(d => d.dispose?.());</pre>
                    </div>
                </div>

                <!-- Filter hooks -->
                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>Filter hooks ‚Äî —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö</h3>
                        <p>–ó–≤–∏—á–∞–π–Ω–∏–π <code>runHook</code> ‚Äî –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è –ø–æ–¥—ñ—ó (side effects, —Ä–µ–∞–∫—Ü—ñ—è). <code>applyFilter</code> ‚Äî –ø–ª–∞–≥—ñ–Ω –æ—Ç—Ä–∏–º—É—î –∑–Ω–∞—á–µ–Ω–Ω—è, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º—É—î —ñ –ø–æ–≤–µ—Ä—Ç–∞—î. –ö—ñ–ª—å–∫–∞ –ø–ª–∞–≥—ñ–Ω—ñ–≤ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –≤ –æ–¥–Ω–æ–º—É –ª–∞–Ω—Ü—é–∑—ñ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ–π –Ω–µ –∑–Ω–∞—é—á–∏ –æ–¥–∏–Ω –ø—Ä–æ –æ–¥–Ω–æ–≥–æ.</p>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">–ü–ª–∞–≥—ñ–Ω —Ä–µ—î—Å—Ç—Ä—É—î —Ñ—ñ–ª—å—Ç—Ä</div>
<pre>// editor-null-display.js ‚Äî –∑–∞–º—ñ–Ω—é—î null –Ω–∞ –ø—Ä–æ—á–µ—Ä–∫
// üîå –ü–õ–ê–ì–Ü–ù (viewless)

export function init(state) {
    state.registerFilter('onRenderCell', (value) => value ?? '‚Äî');
}</pre>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">Core –∞–±–æ —ñ–Ω—à–∏–π –ø–ª–∞–≥—ñ–Ω –∑–∞—Å—Ç–æ—Å–æ–≤—É—î —Ñ—ñ–ª—å—Ç—Ä</div>
<pre>// –í core –∞–±–æ —Ä–µ–Ω–¥–µ—Ä-–ø–ª–∞–≥—ñ–Ω—ñ:
const display = state.applyFilter('onRenderCell', rawValue);
// null     ‚Üí '‚Äî'
// '—Ç–µ–∫—Å—Ç'  ‚Üí '—Ç–µ–∫—Å—Ç'
// 0        ‚Üí 0</pre>
                    </div>
                </div>

                <!-- Public API via -main.js -->
                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>-main.js ‚Äî –ø—É–±–ª—ñ—á–Ω–µ API –º–æ–¥—É–ª—è</h3>
                        <p><code>-main.js</code> –≤–∏–∫–æ–Ω—É—î –¥–≤—ñ —Ä–æ–ª—ñ –æ–¥–Ω–æ—á–∞—Å–Ω–æ: –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä (–∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –ø–ª–∞–≥—ñ–Ω–∏) —ñ –ø—É–±–ª—ñ—á–Ω–∏–π API –ø–∞–ø–∫–∏ (–µ–∫—Å–ø–æ—Ä—Ç—É—î —Ç–µ, —â–æ –¥–æ—Å—Ç—É–ø–Ω–µ –∑–∑–æ–≤–Ω—ñ). –û–∫—Ä–µ–º–∏–π <code>index.js</code> –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω ‚Äî —É –ø—Ä–æ—î–∫—Ç—ñ –Ω–µ–º–∞—î bundler, —Ç–æ–º—É <code>index.js</code> –Ω–µ –¥–∞—î –∂–æ–¥–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–∞–≥–∏ —ñ –ª–∏—à–µ —Å—Ç–≤–æ—Ä—é—î –ø–ª—É—Ç–∞–Ω–∏–Ω—É —É –≤–∫–ª–∞–¥–∫–∞—Ö —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞.</p>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">editor-main.js ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä + –ø—É–±–ª—ñ—á–Ω–∏–π API</div>
<pre>// –ü—É–±–ª—ñ—á–Ω–∏–π API + –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –≤ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—ñ.
// –ó–æ–≤–Ω—ñ —ñ–º–ø–æ—Ä—Ç—É—î–º–æ —Ç—ñ–ª—å–∫–∏ –∑–≤—ñ–¥—Å–∏.

export async function initEditor(container) { /* ... */ }
export { getEditorState } from './editor-state.js';</pre>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">–ü—Ä–∞–≤–∏–ª–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è</div>
<pre>// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî —á–µ—Ä–µ–∑ -main.js
import { initEditor } from './components/editor/editor-main.js';

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî –ø—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –ø–ª–∞–≥—ñ–Ω–∞
import { init } from './components/editor/editor-formatting.js';</pre>
                    </div>
                </div>
            </section>

            <!-- ============================================================ -->
            <!-- –®–ê–†–ú–ò -->
            <!-- ============================================================ -->
            <section class="m3-section" id="charms">
                <div class="m3-section-hero m3-section-hero--charms">
                    <h2>–®–∞—Ä–º–∏</h2>
                    <p>–ì–æ—Ç–æ–≤—ñ –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ —â–æ –∞–∫—Ç–∏–≤—É—é—Ç—å—Å—è HTML-–∞—Ç—Ä–∏–±—É—Ç–æ–º. –ù—É–ª—å–æ–≤–∏–π JS –Ω–∞ —Ä—ñ–≤–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ ‚Äî –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–æ–¥–∞—Ç–∏ –∞—Ç—Ä–∏–±—É—Ç –≤ —Ä–æ–∑–º—ñ—Ç–∫—É.</p>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î</h3>
                        <p>–®–∞—Ä–º–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—é—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ –≤ <code>main-core.js</code> —á–µ—Ä–µ–∑ –¥–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π –Ω–∞ <code>document</code>. –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –±—É–¥—å-—è–∫–∏–π –µ–ª–µ–º–µ–Ω—Ç –∑ –ø–æ—Ç—Ä—ñ–±–Ω–∏–º –∞—Ç—Ä–∏–±—É—Ç–æ–º –æ—Ç—Ä–∏–º—É—î –ø–æ–≤–µ–¥—ñ–Ω–∫—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.</p>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">main-core.js ‚Äî –æ–¥–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–ª—è –≤—Å—ñ—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫</div>
<pre>export async function initCore() {
    initSearchClearCharm();   // —Å–ª—É—Ö–∞—î document, —à—É–∫–∞—î [data-clear-for]
    initFilterPillsCharm();   // —Å–ª—É—Ö–∞—î document, —à—É–∫–∞—î .filter-pill[data-filter]
    initMorphSearchCharm();   // —Å–ª—É—Ö–∞—î document, —à—É–∫–∞—î [data-morph-search]
    initRefreshCharm();       // —Å–ª—É—Ö–∞—î document, —à—É–∫–∞—î [refresh]
    initColumnsCharm();       // —Å–ª—É—Ö–∞—î document, —à—É–∫–∞—î [columns]
    initPaginationCharm();    // –∑–Ω–∞—Ö–æ–¥–∏—Ç—å [pagination] —ñ –±—É–¥—É—î –µ–∫–∑–µ–º–ø–ª—è—Ä
}</pre>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">HTML –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ ‚Äî —Ç—ñ–ª—å–∫–∏ –∞—Ç—Ä–∏–±—É—Ç, –Ω—É–ª—å JS</div>
<pre>&lt;!-- –ö–Ω–æ–ø–∫–∞ –æ—á–∏—â–µ–Ω–Ω—è –ø–æ—à—É–∫—É --&gt;
&lt;input type="text" id="search-brands"&gt;
&lt;button data-clear-for="search-brands"&gt;√ó&lt;/button&gt;

&lt;!-- –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è —Ç–∞–±–ª–∏—Ü—ñ --&gt;
&lt;div pagination="25" id="brands-table"&gt;&lt;/div&gt;

&lt;!-- –ö–Ω–æ–ø–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è --&gt;
&lt;div refresh&gt;&lt;/div&gt;</pre>
                    </div>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–î–æ–≤—ñ–¥–Ω–∏–∫ —à–∞—Ä–º—ñ–≤</h3>
                    </div>
                    <table class="m3-spec">
                        <thead>
                            <tr><th>–®–∞—Ä–º</th><th>HTML-–∞—Ç—Ä–∏–±—É—Ç</th><th>–©–æ —Ä–æ–±–∏—Ç—å</th></tr>
                        </thead>
                        <tbody>
                            <tr><td><code>charm-search-clear</code></td><td><code>data-clear-for="id"</code></td><td>–ö–Ω–æ–ø–∫–∞ √ó –¥–ª—è –æ—á–∏—â–µ–Ω–Ω—è –ø–æ–ª—è –ø–æ—à—É–∫—É. –ó'—è–≤–ª—è—î—Ç—å—Å—è –∫–æ–ª–∏ —î —Ç–µ–∫—Å—Ç.</td></tr>
                            <tr><td><code>charm-filter-pills</code></td><td><code>.filter-pill[data-filter]</code></td><td>–ß—ñ–ø–∏-—Ñ—ñ–ª—å—Ç—Ä–∏ ‚Äî –∫–ª—ñ–∫ –ø–µ—Ä–µ–º–∏–∫–∞—î –∞–∫—Ç–∏–≤–Ω–∏–π —Ñ—ñ–ª—å—Ç—Ä —ñ –∑–Ω—ñ–º–∞—î –∑ —ñ–Ω—à–∏—Ö.</td></tr>
                            <tr><td><code>charm-morph-search</code></td><td><code>[data-morph-search]</code></td><td>–ü–æ—à—É–∫ —â–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞—î—Ç—å—Å—è –∑ —ñ–∫–æ–Ω–∫–∏ –≤ –ø–æ–ª–µ –≤–≤–æ–¥—É —ñ –Ω–∞–∑–∞–¥.</td></tr>
                            <tr><td><code>charm-refresh</code></td><td><code>refresh</code></td><td>–ö–Ω–æ–ø–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∑—ñ —Å–ø—ñ–Ω–Ω–µ—Ä–æ–º. –ö–∏–¥–∞—î –ø–æ–¥—ñ—é <code>charm:refresh</code>.</td></tr>
                            <tr><td><code>charm-columns</code></td><td><code>columns</code></td><td>–î—Ä–æ–ø–¥–∞—É–Ω –≤–∏–±–æ—Ä—É –≤–∏–¥–∏–º–∏—Ö –∫–æ–ª–æ–Ω–æ–∫ —Ç–∞–±–ª–∏—Ü—ñ.</td></tr>
                            <tr><td><code>charm-pagination</code></td><td><code>pagination="25"</code></td><td>–ü–æ–≤–Ω–∞ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è ‚Äî –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è, —Ä–æ–∑–º—ñ—Ä —Å—Ç–æ—Ä—ñ–Ω–∫–∏, –ª—ñ—á–∏–ª—å–Ω–∏–∫.</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- ============================================================ -->
            <!-- –®–ê–ü–ö–ò –§–ê–ô–õ–Ü–í -->
            <!-- ============================================================ -->
            <section class="m3-section" id="headers">
                <div class="m3-section-hero m3-section-hero--headers">
                    <h2>–ü—Ä–∞–≤–∏–ª–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è —à–∞–ø–æ–∫ —Ñ–∞–π–ª—ñ–≤</h2>
                    <p>–ö–æ–∂–µ–Ω JS —Ñ–∞–π–ª –≤ –ø—Ä–æ—î–∫—Ç—ñ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ –æ–¥–Ω–∞–∫–æ–≤–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏: —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É + –±–ª–æ–∫-–∫–æ–º–µ–Ω—Ç–∞—Ä –∑ —Ä–∞–º–∫–æ—é. –¶–µ –¥–æ–ø–æ–º–∞–≥–∞—î –∑—Ä–∞–∑—É –∑—Ä–æ–∑—É–º—ñ—Ç–∏ —â–æ —Ä–æ–±–∏—Ç—å —Ñ–∞–π–ª –±–µ–∑ –ø–æ—Ç—Ä–µ–±–∏ —á–∏—Ç–∞—Ç–∏ –∫–æ–¥.</p>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–û–±–æ–≤'—è–∑–∫–æ–≤–∞ –ø–µ—Ä—à–∞ —Ä—è–¥–æ–∫</h3>
                        <p>–ü–µ—Ä—à–∏–π —Ä—è–¥–æ–∫ –∫–æ–∂–Ω–æ–≥–æ —Ñ–∞–π–ª—É ‚Äî –∑–∞–≤–∂–¥–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä –∑ —Ä–µ–∞–ª—å–Ω–∏–º —à–ª—è—Ö–æ–º —Ñ–∞–π–ª—É –≤—ñ–¥ –∫–æ—Ä–µ–Ω—è <code>js/</code>.</p>
                    </div>
                    <table class="m3-spec">
                        <thead>
                            <tr><th>–©–æ –ø–∏—à–µ–º–æ</th><th>–ü—Ä–∏–∫–ª–∞–¥</th></tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>// js/—à–ª—è—Ö/–¥–æ/—Ñ–∞–π–ª—É.js</code></td>
                                <td><code>// js/layout/layout-main.js</code></td>
                            </tr>
                            <tr>
                                <td>–ó–∞–≤–∂–¥–∏ —Ä–µ–∞–ª—å–Ω–∏–π —à–ª—è—Ö, –Ω–µ —Å—Ç–∞—Ä–∏–π</td>
                                <td>–Ø–∫—â–æ —Ñ–∞–π–ª –ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ –∞–±–æ –ø–µ—Ä–µ–π–º–µ–Ω–æ–≤–∞–Ω–æ ‚Äî –æ–Ω–æ–≤–ª—é—î–º–æ —Ü–µ–π —Ä—è–¥–æ–∫</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–ª–æ–∫—É-–∫–æ–º–µ–Ω—Ç–∞—Ä—è</h3>
                        <p>–ü—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ —Ä—è–¥–∫–∞ –π–¥–µ –±–ª–æ–∫-–∫–æ–º–µ–Ω—Ç–∞—Ä <code>/* ... */</code> –∑ —Ä–∞–º–∫–æ—é –∑ Unicode —Å–∏–º–≤–æ–ª—ñ–≤. –†–∞–º–∫–∞ –¥–∞—î —á—ñ—Ç–∫–∏–π –≤—ñ–∑—É–∞–ª—å–Ω–∏–π –∫–æ—Ä–¥–æ–Ω —ñ –ª–µ–≥–∫–æ —á–∏—Ç–∞—î—Ç—å—Å—è –≤ –±—É–¥—å-—è–∫–æ–º—É —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ.</p>
                    </div>
                    <table class="m3-spec">
                        <thead>
                            <tr><th>–ï–ª–µ–º–µ–Ω—Ç —Ä–∞–º–∫–∏</th><th>–°–∏–º–≤–æ–ª–∏</th><th>–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>–í–µ—Ä—Ö–Ω—è –º–µ–∂–∞</td><td><code>‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó</code></td><td>–ü–æ—á–∞—Ç–æ–∫ —à–∞–ø–∫–∏</td></tr>
                            <tr><td>–†—è–¥–æ–∫ –∑–∞–≥–æ–ª–æ–≤–∫—É</td><td><code>‚ïë –ù–ê–ó–í–ê ‚ïë</code></td><td>–ù–∞–∑–≤–∞ –º–æ–¥—É–ª—è –≤–µ–ª–∏–∫–∏–º–∏ –ª—ñ—Ç–µ—Ä–∞–º–∏, –ø–æ —Ü–µ–Ω—Ç—Ä—É</td></tr>
                            <tr><td>–†–æ–∑–¥—ñ–ª—é–≤–∞—á</td><td><code>‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£</code></td><td>–í—ñ–¥–¥—ñ–ª—è—î –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤—ñ–¥ –æ–ø–∏—Å—É (—è–∫—â–æ —î –æ–ø–∏—Å)</td></tr>
                            <tr><td>–ü–æ—Ä–æ–∂–Ω—ñ–π —Ä—è–¥–æ–∫</td><td><code>‚ïë      ‚ïë</code></td><td>–í—ñ–¥—Å—Ç—É–ø –º—ñ–∂ –±–ª–æ–∫–∞–º–∏ —Ç–µ–∫—Å—Ç—É</td></tr>
                            <tr><td>–†—è–¥–æ–∫ —Ç–µ–∫—Å—Ç—É</td><td><code>‚ïë  —Ç–µ–∫—Å—Ç  ‚ïë</code></td><td>–û–ø–∏—Å, –ø—Ä–∞–≤–∏–ª–∞, –ø—Ä–∏–∫–ª–∞–¥–∏ ‚Äî –∑ –≤—ñ–¥—Å—Ç—É–ø–æ–º 2 –ø—Ä–æ–±—ñ–ª–∏</td></tr>
                            <tr><td>–ù–∏–∂–Ω—è –º–µ–∂–∞</td><td><code>‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù</code></td><td>–ö—ñ–Ω–µ—Ü—å —à–∞–ø–∫–∏</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–Ü–∫–æ–Ω–∫–∏ –¥–ª—è –≥—Ä—É–ø —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó</h3>
                        <p>–í—Å–µ—Ä–µ–¥–∏–Ω—ñ –±–ª–æ–∫—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —ñ–∫–æ–Ω–∫–∏-–µ–º–æ–¥–∑—ñ —â–æ–± –ø–æ–∑–Ω–∞—á–∏—Ç–∏ —Ç–∏–ø —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó. –ü—ñ—Å–ª—è —ñ–∫–æ–Ω–∫–∏ ‚Äî —Å–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ <code>‚îú‚îÄ‚îÄ</code> —ñ <code>‚îî‚îÄ‚îÄ</code>.</p>
                    </div>
                    <table class="m3-spec">
                        <thead>
                            <tr><th>–Ü–∫–æ–Ω–∫–∞</th><th>–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏</th></tr>
                        </thead>
                        <tbody>
                            <tr><td><code>üìã</code></td><td>–ü–µ—Ä–µ–ª—ñ–∫ –ø—Ä–∞–≤–∏–ª, –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π, HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∏, –∞—Ç—Ä–∏–±—É—Ç—ñ–≤, –æ–ø—Ü—ñ–π</td></tr>
                            <tr><td><code>üéØ</code></td><td>–ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è ‚Äî —è–∫ —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —ñ –≤–∏–∫–ª–∏–∫–∞—Ç–∏</td></tr>
                            <tr><td><code>üîí</code></td><td>–§–∞–π–ª —î —á–∞—Å—Ç–∏–Ω–æ—é —è–¥—Ä–∞ ‚Äî –Ω–µ –≤–∏–¥–∞–ª—è—Ç–∏</td></tr>
                            <tr><td><code>üîå</code></td><td>–§–∞–π–ª —î –ø–ª–∞–≥—ñ–Ω–æ–º ‚Äî –º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–ü—Ä–∞–≤–∏–ª–∞ —ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏</h3>
                    </div>
                    <table class="m3-spec">
                        <thead>
                            <tr><th>–ü—Ä–∞–≤–∏–ª–æ</th><th>–ü–æ—è—Å–Ω–µ–Ω–Ω—è</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>–ü–µ—Ä—à–∏–π —Ä—è–¥–æ–∫ ‚Äî –∑–∞–≤–∂–¥–∏ —à–ª—è—Ö</td><td>–ù–∞–≤—ñ—Ç—å —è–∫—â–æ —Ñ–∞–π–ª –ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ, —à–ª—è—Ö –æ–Ω–æ–≤–ª—é—î–º–æ –ø–µ—Ä—à–∏–º</td></tr>
                            <tr><td>–ó–∞–≥–æ–ª–æ–≤–æ–∫ ‚Äî –≤–µ–ª–∏–∫–∏–º–∏ –ª—ñ—Ç–µ—Ä–∞–º–∏</td><td><code>–ü–†–ê–í–ê –ü–ê–ù–ï–õ–¨ ‚Äî –°–¢–ê–ù–ò</code>, –Ω–µ <code>Aside State</code></td></tr>
                            <tr><td>–†–æ–∑–¥—ñ–ª—é–≤–∞—á <code>‚ï†‚ïê‚ïê‚ïê‚ï£</code> ‚Äî —Ç—ñ–ª—å–∫–∏ –∫–æ–ª–∏ —î –æ–ø–∏—Å</td><td>–Ø–∫—â–æ –ø—ñ—Å–ª—è –∑–∞–≥–æ–ª–æ–≤–∫—É –æ–¥—Ä–∞–∑—É <code>‚ïö‚ïê‚ïê‚ïê‚ïù</code> ‚Äî —Ä–æ–∑–¥—ñ–ª—é–≤–∞—á –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω</td></tr>
                            <tr><td>–¢–µ–∫—Å—Ç –∑ –≤—ñ–¥—Å—Ç—É–ø–æ–º 2 –ø—Ä–æ–±—ñ–ª–∏ –≤—ñ–¥ <code>‚ïë</code></td><td><code>‚ïë  –¢–µ–∫—Å—Ç —Ç—É—Ç  ‚ïë</code> ‚Äî –¥–≤–∞ –ø—Ä–æ–±—ñ–ª–∏ –¥–æ —Ç–µ–∫—Å—Ç—É</td></tr>
                            <tr><td>–°–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ <code>‚îú‚îÄ‚îÄ</code> —ñ <code>‚îî‚îÄ‚îÄ</code></td><td><code>‚îú‚îÄ‚îÄ</code> ‚Äî –Ω–µ –æ—Å—Ç–∞–Ω–Ω—ñ–π –ø—É–Ω–∫—Ç, <code>‚îî‚îÄ‚îÄ</code> ‚Äî –æ—Å—Ç–∞–Ω–Ω—ñ–π</td></tr>
                            <tr><td>–®–∏—Ä–∏–Ω–∞ —Ä–∞–º–∫–∏ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∞</td><td>74 —Å–∏–º–≤–æ–ª–∏ <code>‚ïê</code> –º—ñ–∂ –∫—É—Ç–∞–º–∏ ‚Äî –≤—Å—ñ —Ä—è–¥–∫–∏ –º–∞—é—Ç—å –±—É—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤–æ—ó —à–∏—Ä–∏–Ω–∏</td></tr>
                            <tr><td>–ö–æ—Ä–æ—Ç–∫–æ —ñ –ø–æ —Å—É—Ç—ñ</td><td>–®–∞–ø–∫–∞ –ø–æ—è—Å–Ω—é—î —â–æ —Ñ–∞–π–ª —Ä–æ–±–∏—Ç—å —ñ —è–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ ‚Äî –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—É–π –∫–æ–¥ —Å–ª–æ–≤–∞–º–∏</td></tr>
                            <tr><td>–ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ <code>*/</code> –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—è</td><td>–°–∏–º–≤–æ–ª–∏ <code>*/</code> –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –±–ª–æ–∫-–∫–æ–º–µ–Ω—Ç–∞—Ä—è –∑–∞–∫—Ä–∏–≤–∞—é—Ç—å –π–æ–≥–æ –ø–µ—Ä–µ–¥—á–∞—Å–Ω–æ</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>

        </div>
    </main>

    <script>
        const navItems = document.querySelectorAll('.m3-nav-item[href^="#"]');
        const sections = [...navItems].map(a => document.querySelector(a.getAttribute('href'))).filter(Boolean);

        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    navItems.forEach(a => a.classList.remove('active'));
                    const active = document.querySelector(`.m3-nav-item[href="#${entry.target.id}"]`);
                    active?.classList.add('active');
                }
            });
        }, { threshold: 0.25 });

        sections.forEach(s => observer.observe(s));
    </script>
</body>
</html>
