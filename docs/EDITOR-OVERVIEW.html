<!DOCTYPE html>
<html lang="uk">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–∏–Ω—Ü–∏–ø–∏ Editor ‚Äî pinguin-v5</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" />
    <script src="../js/theme-init.js"></script>
    <style>
        * { font-size: revert; }

        body {
            display: flex !important;
            flex-direction: row !important;
            height: 100dvh !important;
            overflow: hidden !important;
            scroll-snap-type: none !important;
            padding: 0 !important;
            margin: 0 !important;
            max-width: none !important;
            background: var(--color-surface);
        }

        section {
            height: auto !important;
            min-height: auto !important;
            scroll-snap-align: none !important;
            overflow: visible !important;
        }

        .content-main, .nav.column, .section-navigator { display: none !important; }

        /* SIDEBAR */
        .m3-sidebar {
            width: 260px;
            min-width: 260px;
            height: 100dvh;
            overflow-y: auto;
            background: var(--color-surface-c-low);
            border-right: 1px solid var(--color-outline);
            padding: 24px 16px;
            position: sticky;
            top: 0;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        .m3-sidebar-title {
            font-size: 22px;
            font-weight: 600;
            padding: 8px 12px 20px;
            color: var(--color-on-surface);
            border-bottom: 1px solid var(--color-outline);
            margin-bottom: 12px;
        }
        .m3-sidebar-title span {
            font-size: 12px;
            font-weight: 400;
            color: var(--color-on-surface-v);
            display: block;
            margin-top: 2px;
        }
        .m3-nav-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            border-radius: var(--radius-full);
            color: var(--color-on-surface);
            text-decoration: none;
            font-size: 13px;
            font-weight: 400;
            transition: all 0.15s;
            cursor: pointer;
        }
        .m3-nav-item:hover { background: var(--color-surface-c); }
        .m3-nav-item.active {
            background: var(--color-main-c);
            color: var(--color-main);
            font-weight: 600;
        }
        .m3-nav-item .material-symbols-outlined { font-size: 20px; }

        /* MAIN */
        .m3-main { flex: 1; overflow-y: auto; padding: 0; }
        .m3-content { max-width: 960px; margin: 0 auto; padding: 40px 48px 80px; }

        /* HERO */
        .m3-hero {
            background: linear-gradient(135deg, var(--color-main) 0%, var(--color-secondary) 100%);
            border-radius: 28px;
            padding: 48px;
            margin-bottom: 40px;
            color: var(--color-on-main);
        }
        .m3-hero h1 { font-size: 40px; font-weight: 400; margin: 0 0 8px; color: inherit; }
        .m3-hero p { font-size: 16px; opacity: 0.85; margin: 0; max-width: 600px; line-height: 1.5; }

        /* SECTION */
        .m3-section { margin-bottom: 56px; scroll-margin-top: 24px; }

        /* SECTION HERO */
        .m3-section-hero {
            border-radius: 16px;
            padding: 20px 28px;
            margin-bottom: 28px;
            color: var(--color-on-secondary);
            background: linear-gradient(135deg, var(--color-secondary) 0%, var(--color-tertiary) 100%);
        }
        .m3-section-hero h2 {
            font-size: 22px;
            font-weight: 400;
            margin: 0 0 6px;
            color: inherit;
        }
        .m3-section-hero p {
            font-size: 13px;
            opacity: 0.88;
            margin: 0;
            max-width: 600px;
            line-height: 1.55;
            color: inherit;
        }

        /* BLOCK */
        .m3-block {
            margin-bottom: 32px;
            border: 1px solid var(--color-outline);
            border-radius: 16px;
            overflow: hidden;
            background: var(--color-surface);
        }
        .m3-block-header {
            padding: 20px 24px 16px;
            border-bottom: 1px solid var(--color-outline);
        }
        .m3-block-header h3 { font-size: 16px; font-weight: 600; margin: 0 0 4px; color: var(--color-on-surface); }
        .m3-block-header p { font-size: 13px; color: var(--color-on-surface-v); margin: 0; line-height: 1.5; }

        /* DEMO BLOCK ‚Äî –æ–±–≥–æ—Ä—Ç–∫–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ */
        .m3-demo-wrap { padding: 24px; }

        /* SPEC TABLE */
        .m3-spec { width: 100%; border-collapse: collapse; font-size: 13px; }
        .m3-spec th {
            text-align: left;
            padding: 10px 16px;
            font-weight: 600;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--color-on-surface-v);
            background: var(--color-surface-c-low);
            border-bottom: 1px solid var(--color-outline);
        }
        .m3-spec td {
            padding: 10px 16px;
            border-bottom: 1px solid var(--color-outline);
            color: var(--color-on-surface);
            vertical-align: top;
        }
        .m3-spec tr:last-child td { border-bottom: none; }
        .m3-spec code {
            font-family: 'Roboto Mono', monospace;
            font-size: 11px;
            background: var(--color-surface-c);
            padding: 2px 6px;
            border-radius: 4px;
        }

        /* THEME TOGGLE */
        .m3-theme-toggle { position: fixed; bottom: 24px; right: 24px; z-index: 9999; }

        /* SCROLLBAR */
        .m3-sidebar::-webkit-scrollbar, .m3-main::-webkit-scrollbar { width: 4px; }
        .m3-sidebar::-webkit-scrollbar-thumb, .m3-main::-webkit-scrollbar-thumb {
            background: var(--color-outline);
            border-radius: 4px;
        }

        /* CODE BLOCKS */
        .m3-code {
            padding: 16px 24px;
            border-top: 1px solid var(--color-outline);
            background: var(--color-surface-c-low);
            overflow-x: auto;
        }
        .m3-code-label {
            font-size: 10px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: var(--color-main);
            margin-bottom: 10px;
        }
        .m3-code pre {
            margin: 0;
            font-family: 'Roboto Mono', 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.75;
            color: var(--color-on-surface);
            white-space: pre;
        }

        /* PART DIVIDERS */
        .m3-part {
            display: flex;
            align-items: center;
            gap: 14px;
            margin: 48px 0 20px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--color-outline);
        }
        .m3-part:first-of-type { margin-top: 0; }
        .m3-part-icon { font-size: 22px; color: var(--color-main); }
        .m3-part-title { font-size: 20px; font-weight: 600; color: var(--color-on-surface); flex: 1; }
        .m3-part-badge {
            font-size: 11px;
            font-weight: 600;
            padding: 3px 10px;
            border-radius: 100px;
            letter-spacing: 0.03em;
        }
        .m3-part-badge.locked {
            background: color-mix(in srgb, #ba1a1a 12%, transparent);
            color: #ba1a1a;
        }
        .m3-part-badge.removable {
            background: var(--color-main-c);
            color: var(--color-main);
        }
        .m3-part-badge.utility {
            background: color-mix(in srgb, var(--color-secondary) 20%, transparent);
            color: var(--color-secondary, #7b5ea7);
        }

        /* FILE CARDS GRID */
        .m3-file-cards {
            display: grid;
            grid-template-columns: 1fr 1fr;
        }
        .m3-file-card {
            padding: 18px 22px;
            border-bottom: 1px solid var(--color-outline);
            border-right: 1px solid var(--color-outline);
        }
        .m3-file-card:nth-child(2n) { border-right: none; }
        .m3-file-card:last-child { border-bottom: none; }
        .m3-file-card:nth-last-child(2):nth-child(2n+1) { border-bottom: none; }
        .m3-file-card-name {
            font-family: 'Roboto Mono', monospace;
            font-size: 13px;
            font-weight: 700;
            color: var(--color-main);
            margin-bottom: 4px;
        }
        .m3-file-card-role {
            font-size: 13px;
            font-weight: 600;
            color: var(--color-on-surface);
            margin-bottom: 5px;
        }
        .m3-file-card-desc { font-size: 12px; color: var(--color-on-surface-v); line-height: 1.6; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>

<body>

    <!-- SIDEBAR -->
    <aside class="m3-sidebar">
        <div class="m3-sidebar-title">
            –ü—Ä–∏–Ω—Ü–∏–ø–∏ Editor
            <span>pinguin-v5</span>
        </div>

        <a href="#demo" class="m3-nav-item active">
            <span class="material-symbols-outlined">edit_note</span>–ñ–∏–≤–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
        </a>
        <a href="#structure" class="m3-nav-item">
            <span class="material-symbols-outlined">folder_open</span>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤
        </a>
        <a href="#charms" class="m3-nav-item">
            <span class="material-symbols-outlined">auto_awesome</span>–ß–∞—Ä–º–∏
        </a>
        <a href="#hooks" class="m3-nav-item">
            <span class="material-symbols-outlined">webhook</span>–•—É–∫–∏
        </a>
        <a href="#api" class="m3-nav-item">
            <span class="material-symbols-outlined">api</span>–ü—É–±–ª—ñ—á–Ω–µ API
        </a>
        <a href="#plugins" class="m3-nav-item">
            <span class="material-symbols-outlined">extension</span>–ü–ª–∞–≥—ñ–Ω–∏
        </a>
        <a href="#configs" class="m3-nav-item">
            <span class="material-symbols-outlined">tune</span>–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
        </a>
    </aside>

    <!-- MAIN -->
    <main class="m3-main">
        <div class="m3-content">

            <div class="m3-theme-toggle">
                <button class="fab"
                    onclick="document.documentElement.dataset.theme = document.documentElement.dataset.theme === 'dark' ? 'light' : 'dark'">
                    <span class="material-symbols-outlined">dark_mode</span>
                </button>
            </div>

            <!-- HERO -->
            <div class="m3-hero">
                <h1>–ü—Ä–∏–Ω—Ü–∏–ø–∏ Editor</h1>
                <p>–õ–ï–ì–û-—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è WYSIWYG —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞. –û–¥–∏–Ω –≤–∏–∫–ª–∏–∫ <code style="opacity:0.8; font-size:14px">createHighlightEditor(container)</code> ‚Äî —Ä–µ—à—Ç–∞ —á–µ—Ä–µ–∑ HTML-—á–∞—Ä–º–∏.</p>
            </div>

            <!-- ============================================================ -->
            <!-- –ñ–ò–í–ò–ô –†–ï–î–ê–ö–¢–û–† -->
            <!-- ============================================================ -->
            <section class="m3-section" id="demo">
                <div class="m3-section-hero">
                    <h2>–ñ–∏–≤–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä ‚Äî –≤—Å—ñ —á–∞—Ä–º–∏</h2>
                    <p>–í—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —É–≤—ñ–º–∫–Ω–µ–Ω–æ: toolbar, Text/Code, –≤–∞–ª—ñ–¥–∞—Ü—ñ—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —Ç–æ–≥–ª–∏ –æ—á–∏—Å—Ç–∫–∏, find &amp; replace, undo/redo.</p>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–î–µ–º–æ</h3>
                        <p>–°–ø—Ä–æ–±—É–π—Ç–µ bold (Ctrl+B), italic (Ctrl+I), –∑–∞–≥–æ–ª–æ–≤–∫–∏, –∑–º—ñ–Ω—É —Ä–µ–≥—ñ—Å—Ç—Ä—É, –ø–æ—à—É–∫, undo (Ctrl+Z). –í—Å—Ç–∞–≤—Ç–µ —Ç–µ–∫—Å—Ç —ñ–∑ Word –∞–±–æ –±—Ä–∞—É–∑–µ—Ä–∞ ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å –∑–∞–π–≤–µ.</p>
                    </div>
                    <div class="m3-demo-wrap">
                        <div editor tools code check stats cleanup-links cleanup-styles cleanup-images
                             data-editor-id="demo"
                             data-placeholder="–í—Å—Ç–∞–≤—Ç–µ —Ç–µ–∫—Å—Ç –∞–±–æ –ø–æ—á–Ω—ñ—Ç—å –¥—Ä—É–∫—É–≤–∞—Ç–∏... Bold (Ctrl+B), Italic (Ctrl+I), –∑–∞–≥–æ–ª–æ–≤–∫–∏ H1-H3, —Å–ø–∏—Å–∫–∏, –∑–º—ñ–Ω–∞ —Ä–µ–≥—ñ—Å—Ç—Ä—É, find &amp; replace."
                             data-min-height="280"></div>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">HTML ‚Äî –≤—Å—ñ —á–∞—Ä–º–∏ —É–≤—ñ–º–∫–Ω–µ–Ω–æ</div>
<pre>&lt;div editor tools code check stats cleanup-links cleanup-styles cleanup-images
     data-editor-id="my-editor"
     data-placeholder="–í–≤–µ–¥—ñ—Ç—å —Ç–µ–∫—Å—Ç..."
     data-min-height="200"&gt;&lt;/div&gt;</pre>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">JS ‚Äî —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è</div>
<pre>import { createHighlightEditor } from './components/editor/editor-main.js';

const container = document.querySelector('[data-editor-id="my-editor"]');
const editor = createHighlightEditor(container);

// –ü—É–±–ª—ñ—á–Ω–µ API
editor.getValue();        // ‚Üí —á–∏—Å—Ç–∏–π HTML —Ä—è–¥–æ–∫
editor.setValue('&lt;p&gt;—Ç–µ–∫—Å—Ç&lt;/p&gt;');
editor.getPlainText();    // ‚Üí plain text –±–µ–∑ —Ç–µ–≥—ñ–≤
editor.clear();
editor.focus();</pre>
                    </div>
                </div>
            </section>

            <!-- ============================================================ -->
            <!-- –°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–Ü–í -->
            <!-- ============================================================ -->
            <section class="m3-section" id="structure">
                <div class="m3-section-hero">
                    <h2>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤</h2>
                    <p>–ü–∞–ø–∫–∞ <code>js/components/editor/</code> ‚Äî 16 —Ñ–∞–π–ª—ñ–≤. –¢—Ä–∏ —à–∞—Ä–∏: –Ø–î–†–û (–Ω–µ —á—ñ–ø–∞—Ç–∏), –ü–õ–ê–ì–Ü–ù–ò (–º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏), –£–¢–ò–õ–Ü–¢–ò.</p>
                </div>

                <div class="m3-block">
                    <div class="m3-part" style="margin: 0; border-radius: 0; padding: 16px 22px;">
                        <span class="material-symbols-outlined m3-part-icon">lock</span>
                        <span class="m3-part-title">–Ø–î–†–û</span>
                        <span class="m3-part-badge locked">–Ω–µ –≤–∏–¥–∞–ª—è—Ç–∏</span>
                    </div>
                    <div class="m3-file-cards">
                        <div class="m3-file-card">
                            <div class="m3-file-card-name">editor-main.js</div>
                            <div class="m3-file-card-role">–§–∞–±—Ä–∏–∫–∞ + –ø—É–±–ª—ñ—á–Ω–∏–π API</div>
                            <div class="m3-file-card-desc">–Ñ–¥–∏–Ω–∞ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É. –ß–∏—Ç–∞—î —á–∞—Ä–º–∏ –∑ HTML, –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –ø–ª–∞–≥—ñ–Ω–∏ —á–µ—Ä–µ–∑ <code>Promise.allSettled</code>. –ü–æ–≤–µ—Ä—Ç–∞—î –ø—É–±–ª—ñ—á–Ω–µ API.</div>
                        </div>
                        <div class="m3-file-card">
                            <div class="m3-file-card-name">editor-state.js</div>
                            <div class="m3-file-card-role">State –µ–∫–∑–µ–º–ø–ª—è—Ä–∞</div>
                            <div class="m3-file-card-desc">DOM-–ø–æ—Å–∏–ª–∞–Ω–Ω—è, —Ö—É–∫–∏, –º–µ—Ç–æ–¥–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞. registerHook / runHook ‚Äî –º–µ—Ö–∞–Ω—ñ–∑–º –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó –º—ñ–∂ –ø–ª–∞–≥—ñ–Ω–∞–º–∏.</div>
                        </div>
                        <div class="m3-file-card" style="border-bottom: none; border-right: 1px solid var(--color-outline);">
                            <div class="m3-file-card-name">editor-template.js</div>
                            <div class="m3-file-card-role">HTML —à–∞–±–ª–æ–Ω</div>
                            <div class="m3-file-card-desc">–†–µ–Ω–¥–µ—Ä–∏—Ç—å toolbar, textarea –∫–æ–¥—É, —Ñ—É—Ç–µ—Ä –∑—ñ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ—é. –°–µ–∫—Ü—ñ—ó —É–º–æ–≤–Ω—ñ ‚Äî –∑'—è–≤–ª—è—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π —á–∞—Ä–º —É–≤—ñ–º–∫–Ω–µ–Ω–æ.</div>
                        </div>
                        <div class="m3-file-card" style="border-bottom: none;">
                            <div class="m3-file-card-name">editor-mode.js</div>
                            <div class="m3-file-card-role">–ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è Text/Code</div>
                            <div class="m3-file-card-desc">–ü–µ—Ä–µ—Ö–æ–ø–ª—é—î DOM-–ø–æ–¥—ñ—ó (input, keydown, mouseup, radio) —ñ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—î —É —Ö—É–∫–∏ state. –ö–µ—Ä—É—î –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è–º —Ä–µ–∂–∏–º—ñ–≤.</div>
                        </div>
                    </div>
                </div>

                <div class="m3-block">
                    <div class="m3-part" style="margin: 0; border-radius: 0; padding: 16px 22px;">
                        <span class="material-symbols-outlined m3-part-icon">build</span>
                        <span class="m3-part-title">–£–¢–ò–õ–Ü–¢–ò</span>
                        <span class="m3-part-badge utility">–Ω–µ –ø–ª–∞–≥—ñ–Ω</span>
                    </div>
                    <div class="m3-file-cards">
                        <div class="m3-file-card" style="border-bottom: none;">
                            <div class="m3-file-card-name">editor-utils.js</div>
                            <div class="m3-file-card-role">–î–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó</div>
                            <div class="m3-file-card-desc">–¢—Ä–∏ —Ä—ñ–≤–Ω—ñ –æ—á–∏—Å—Ç–∫–∏: <code>sanitizeStructure</code> (–º—ñ–Ω—ñ–º—É–º), <code>sanitizeHtml</code> (—Ä—è–¥–æ–∫), <code>sanitizeEditor</code> (DOM –ø—ñ—Å–ª—è paste). –¢–∞–∫–æ–∂ caret save/restore.</div>
                        </div>
                        <div class="m3-file-card" style="border-bottom: none;"></div>
                    </div>
                </div>

                <div class="m3-block">
                    <div class="m3-part" style="margin: 0; border-radius: 0; padding: 16px 22px;">
                        <span class="material-symbols-outlined m3-part-icon">extension</span>
                        <span class="m3-part-title">–ü–õ–ê–ì–Ü–ù–ò</span>
                        <span class="m3-part-badge removable">–º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏</span>
                    </div>
                    <div class="m3-file-cards">
                        <div class="m3-file-card">
                            <div class="m3-file-card-name">editor-plugin-formatting.js</div>
                            <div class="m3-file-card-role">Bold, Italic, H1-H3, List</div>
                            <div class="m3-file-card-desc">–ö–Ω–æ–ø–∫–∏ toolbar + Ctrl+B / Ctrl+I. –ù–æ—Ä–º–∞–ª—ñ–∑—É—î formatBlock –∫—Ä–æ—Å-–±—Ä–∞—É–∑–µ—Ä–Ω–æ.</div>
                        </div>
                        <div class="m3-file-card">
                            <div class="m3-file-card-name">editor-plugin-case.js</div>
                            <div class="m3-file-card-role">–ó–º—ñ–Ω–∞ —Ä–µ–≥—ñ—Å—Ç—Ä—É</div>
                            <div class="m3-file-card-desc">lowercase / UPPERCASE / Title Case –¥–ª—è –≤–∏–¥—ñ–ª–µ–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç—É.</div>
                        </div>
                        <div class="m3-file-card">
                            <div class="m3-file-card-name">editor-plugin-undo.js</div>
                            <div class="m3-file-card-role">Undo / Redo</div>
                            <div class="m3-file-card-desc">Ctrl+Z / Ctrl+Y. –°—Ç–µ–∫ –¥–æ 50 —Å—Ç–∞–Ω—ñ–≤. –ó–±–µ—Ä—ñ–≥–∞—î –ø–µ—Ä–µ–¥ –∫–æ–∂–Ω–æ—é –∑–º—ñ–Ω–æ—é —á–µ—Ä–µ–∑ —Ö—É–∫ onWillChange.</div>
                        </div>
                        <div class="m3-file-card">
                            <div class="m3-file-card-name">editor-plugin-enter.js</div>
                            <div class="m3-file-card-role">Enter / Shift+Enter</div>
                            <div class="m3-file-card-desc">Enter ‚Üí –Ω–æ–≤–∏–π &lt;p&gt;, Shift+Enter ‚Üí &lt;br&gt;. –ë–µ–∑ –ø–ª–∞–≥—ñ–Ω–∞ ‚Äî –±—Ä–∞—É–∑–µ—Ä–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞.</div>
                        </div>
                        <div class="m3-file-card">
                            <div class="m3-file-card-name">editor-plugin-paste.js</div>
                            <div class="m3-file-card-role">Copy &amp; Paste</div>
                            <div class="m3-file-card-desc">Ctrl+C ‚Üí HTML, Ctrl+Shift+C ‚Üí plain text. –í—Å—Ç–∞–≤–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ sanitize-—É—î HTML.</div>
                        </div>
                        <div class="m3-file-card">
                            <div class="m3-file-card-name">editor-plugin-find.js</div>
                            <div class="m3-file-card-role">Find &amp; Replace</div>
                            <div class="m3-file-card-desc">–ú–∞—Å–æ–≤–∞ –∑–∞–º—ñ–Ω–∞ –≤ text —ñ code —Ä–µ–∂–∏–º–∞—Ö. Dropdown –∑ toolbar.</div>
                        </div>
                        <div class="m3-file-card">
                            <div class="m3-file-card-name">editor-plugin-validation.js</div>
                            <div class="m3-file-card-role">–í–∞–ª—ñ–¥–∞—Ü—ñ—è</div>
                            <div class="m3-file-card-desc">–ü—ñ–¥—Å–≤—ñ—á—É—î –∑–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ —Å–ª–æ–≤–∞ + –ø–µ—Ä–µ–≤—ñ—Ä—è—î HTML —Å—Ç—Ä—É–∫—Ç—É—Ä—É. –ß–µ—Ä–≤–æ–Ω—ñ —Ç–∞ –∂–æ–≤—Ç—ñ —á—ñ–ø–∏.</div>
                        </div>
                        <div class="m3-file-card">
                            <div class="m3-file-card-name">editor-plugin-stats.js</div>
                            <div class="m3-file-card-role">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
                            <div class="m3-file-card-desc">–°–∏–º–≤–æ–ª–∏ / —Å–ª–æ–≤–∞ / —á–∞—Å —á–∏—Ç–∞–Ω–Ω—è –≤ —Ñ—É—Ç–µ—Ä—ñ. –û–Ω–æ–≤–ª—é—î—Ç—å—Å—è –Ω–∞ –∫–æ–∂–µ–Ω input.</div>
                        </div>
                        <div class="m3-file-card">
                            <div class="m3-file-card-name">editor-plugin-cleanup.js</div>
                            <div class="m3-file-card-role">–¢–æ–≥–ª–∏ –æ—á–∏—Å—Ç–∫–∏</div>
                            <div class="m3-file-card-desc">–ö–Ω–æ–ø–∫–∏ links / images / styles –≤ —Ñ—É—Ç–µ—Ä—ñ. –ê–∫—Ç–∏–≤–Ω–∞ = –≤–∏–¥–∞–ª—è—î –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ.</div>
                        </div>
                        <div class="m3-file-card">
                            <div class="m3-file-card-name">editor-plugin-chip-navigation.js</div>
                            <div class="m3-file-card-role">–ù–∞–≤—ñ–≥–∞—Ü—ñ—è –ø–æ —á—ñ–ø–∞—Ö</div>
                            <div class="m3-file-card-desc">–ö–ª—ñ–∫ –Ω–∞ —á—ñ–ø ‚Üí –ø–µ—Ä–µ—Ö—ñ–¥ –¥–æ —Å–ª–æ–≤–∞ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ. –¶–∏–∫–ª—ñ—á–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è + flash-–µ—Ñ–µ–∫—Ç.</div>
                        </div>
                        <div class="m3-file-card" style="border-bottom: none;">
                            <div class="m3-file-card-name">editor-plugin-tooltip.js</div>
                            <div class="m3-file-card-role">–ü—ñ–¥–∫–∞–∑–∫–∏</div>
                            <div class="m3-file-card-desc">Hover –Ω–∞ —Å–ª–æ–≤—ñ –∞–±–æ —á—ñ–ø—ñ ‚Üí tooltip –∑ –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º —ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—î—é.</div>
                        </div>
                        <div class="m3-file-card" style="border-bottom: none;"></div>
                    </div>
                </div>
            </section>

            <!-- ============================================================ -->
            <!-- –ß–ê–†–ú–ò -->
            <!-- ============================================================ -->
            <section class="m3-section" id="charms">
                <div class="m3-section-hero">
                    <h2>–ß–∞—Ä–º–∏ ‚Äî HTML-–∞—Ç—Ä–∏–±—É—Ç–∏</h2>
                    <p>–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ –∞—Ç—Ä–∏–±—É—Ç–∏ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ. –ë–µ–∑ —á–∞—Ä–º—É <code>tools</code> ‚Äî readonly –±–ª–æ–∫. –ö–æ–∂–µ–Ω —á–∞—Ä–º –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–π.</p>
                </div>

                <div class="m3-block">
                    <table class="m3-spec">
                        <tr>
                            <th>–ê—Ç—Ä–∏–±—É—Ç</th>
                            <th>–©–æ –≤–º–∏–∫–∞—î</th>
                            <th>–ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ</th>
                        </tr>
                        <tr>
                            <td><code>editor</code></td>
                            <td>–ë–∞–∑–æ–≤–∏–π –º–∞—Ä–∫–µ—Ä ‚Äî –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π –¥–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó</td>
                            <td>‚Äî</td>
                        </tr>
                        <tr>
                            <td><code>tools</code></td>
                            <td>Toolbar + editing + find/replace</td>
                            <td>‚Äî</td>
                        </tr>
                        <tr>
                            <td><code>code</code></td>
                            <td>–ü–µ—Ä–µ–º–∏–∫–∞—á Text / Code (HTML textarea)</td>
                            <td>‚Äî</td>
                        </tr>
                        <tr>
                            <td><code>check</code></td>
                            <td>–í–∞–ª—ñ–¥–∞—Ü—ñ—è: –∑–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ —Å–ª–æ–≤–∞ + HTML –ø–∞—Ç–µ—Ä–Ω–∏</td>
                            <td>–±–µ–∑ <code>tools</code> ‚Äî readonly + —á—ñ–ø–∏</td>
                        </tr>
                        <tr>
                            <td><code>stats</code></td>
                            <td>–§—É—Ç–µ—Ä –∑—ñ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ—é (—Å–∏–º–≤–æ–ª–∏ / —Å–ª–æ–≤–∞ / —Ö–≤)</td>
                            <td>‚Äî</td>
                        </tr>
                        <tr>
                            <td><code>cleanup-links</code></td>
                            <td>–¢–æ–≥–ª: –≤–∏–¥–∞–ª—è—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –ø—Ä–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—ñ</td>
                            <td>–ø–æ–∫–∞–∑—É—î –∫–Ω–æ–ø–∫—É –≤ —Ñ—É—Ç–µ—Ä—ñ</td>
                        </tr>
                        <tr>
                            <td><code>cleanup-styles</code></td>
                            <td>–¢–æ–≥–ª: –≤–∏–¥–∞–ª—è—Ç–∏ inline-—Å—Ç–∏–ª—ñ</td>
                            <td>–ø–æ–∫–∞–∑—É—î –∫–Ω–æ–ø–∫—É –≤ —Ñ—É—Ç–µ—Ä—ñ</td>
                        </tr>
                        <tr>
                            <td><code>cleanup-images</code></td>
                            <td>–¢–æ–≥–ª: –≤–∏–¥–∞–ª—è—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</td>
                            <td>–ø–æ–∫–∞–∑—É—î –∫–Ω–æ–ø–∫—É –≤ —Ñ—É—Ç–µ—Ä—ñ</td>
                        </tr>
                    </table>
                    <div class="m3-code">
                        <div class="m3-code-label">data-–∞—Ç—Ä–∏–±—É—Ç–∏</div>
<pre>data-editor-id="ghl"      ‚Äî –∫–∞—Å—Ç–æ–º–Ω–∏–π ID prefix (default: auto)
data-placeholder="..."    ‚Äî —Ç–µ–∫—Å—Ç –∫–æ–ª–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø–æ—Ä–æ–∂–Ω—ñ–π
data-min-height="200"     ‚Äî –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤–∏—Å–æ—Ç–∞ –≤ px</pre>
                    </div>
                </div>
            </section>

            <!-- ============================================================ -->
            <!-- –•–£–ö–ò -->
            <!-- ============================================================ -->
            <section class="m3-section" id="hooks">
                <div class="m3-section-hero">
                    <h2>–•—É–∫–∏ ‚Äî –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è –º—ñ–∂ –ø–ª–∞–≥—ñ–Ω–∞–º–∏</h2>
                    <p>–ü–ª–∞–≥—ñ–Ω–∏ –Ω–µ –∑–Ω–∞—é—Ç—å –æ–¥–Ω–µ –ø—Ä–æ –æ–¥–Ω–æ–≥–æ. –í—Å—è –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è ‚Äî —á–µ—Ä–µ–∑ <code>state.registerHook</code> —ñ <code>state.runHook</code>.</p>
                </div>

                <div class="m3-block">
                    <table class="m3-spec">
                        <tr>
                            <th>–•—É–∫</th>
                            <th>–ö–æ–ª–∏ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î</th>
                            <th>–•—Ç–æ —Å–ª—É—Ö–∞—î</th>
                        </tr>
                        <tr>
                            <td><code>onInput</code></td>
                            <td>–ë—É–¥—å-—è–∫–∞ –∑–º—ñ–Ω–∞ —Ç–µ–∫—Å—Ç—É (input / keyup)</td>
                            <td>undo (debouce), stats, validation (debounce)</td>
                        </tr>
                        <tr>
                            <td><code>onKeydown</code></td>
                            <td>–ö–æ–∂–Ω–µ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à—ñ</td>
                            <td>formatting (Ctrl+B/I), undo (Ctrl+Z/Y), enter, paste (Ctrl+Shift+C)</td>
                        </tr>
                        <tr>
                            <td><code>onSelectionChange</code></td>
                            <td>Mouseup —É —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ</td>
                            <td>formatting (–æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –∫–Ω–æ–ø–æ–∫ toolbar)</td>
                        </tr>
                        <tr>
                            <td><code>onWillChange</code></td>
                            <td>–ë–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –ø–µ—Ä–µ–¥ –∑–º—ñ–Ω–æ—é –∫–æ–Ω—Ç–µ–Ω—Ç—É</td>
                            <td>undo (–∑–±–µ—Ä–µ–≥—Ç–∏ —Å—Ç–∞–Ω –ø–µ—Ä–µ–¥ –∑–º—ñ–Ω–∞–º–∏)</td>
                        </tr>
                        <tr>
                            <td><code>onValidate</code></td>
                            <td>–ü—ñ—Å–ª—è –±—É–¥—å-—è–∫–æ—ó –∑–º—ñ–Ω–∏ —â–æ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç</td>
                            <td>validation, stats, undo (–ø—ñ—Å–ª—è undo/redo)</td>
                        </tr>
                        <tr>
                            <td><code>onModeChange</code></td>
                            <td>–ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è text ‚Üî code</td>
                            <td>validation, stats, cleanup</td>
                        </tr>
                    </table>
                    <div class="m3-code">
                        <div class="m3-code-label">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ö—É–∫–∞ –≤ –ø–ª–∞–≥—ñ–Ω—ñ</div>
<pre>export function init(state) {
    // –û–±–æ–≤'—è–∑–∫–æ–≤–æ { plugin: 'name' } ‚Äî –¥–ª—è –∑—Ä–æ–∑—É–º—ñ–ª–∏—Ö –ø–æ–º–∏–ª–æ–∫
    state.registerHook('onInput', () => updateStats(), { plugin: 'stats' });
    state.registerHook('onWillChange', saveState, { plugin: 'undo' });

    // –í–∏–∫–ª–∏–∫–∞—Ç–∏ —Ö—É–∫
    state.runHook('onWillChange');
    state.runHook('onValidate');
}</pre>
                    </div>
                </div>
            </section>

            <!-- ============================================================ -->
            <!-- –ü–£–ë–õ–Ü–ß–ù–ï API -->
            <!-- ============================================================ -->
            <section class="m3-section" id="api">
                <div class="m3-section-hero">
                    <h2>–ü—É–±–ª—ñ—á–Ω–µ API</h2>
                    <p>–ü–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –∑ <code>createHighlightEditor(container)</code>. –í—Å—ñ –∑–æ–≤–Ω—ñ—à–Ω—ñ –≤–∑–∞—î–º–æ–¥—ñ—ó ‚Äî —Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ API.</p>
                </div>

                <div class="m3-block">
                    <table class="m3-spec">
                        <tr>
                            <th>–ú–µ—Ç–æ–¥</th>
                            <th>–©–æ —Ä–æ–±–∏—Ç—å</th>
                        </tr>
                        <tr>
                            <td><code>getValue()</code></td>
                            <td>–ü–æ–≤–µ—Ä—Ç–∞—î —á–∏—Å—Ç–∏–π HTML —Ä—è–¥–æ–∫ (–±–µ–∑ –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω—å, –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º —Ç–æ–≥–ª—ñ–≤ –æ—á–∏—Å—Ç–∫–∏)</td>
                        </tr>
                        <tr>
                            <td><code>setValue(html)</code></td>
                            <td>–í—Å—Ç–∞–Ω–æ–≤–ª—é—î HTML –∫–æ–Ω—Ç–µ–Ω—Ç —ñ –∑–∞–ø—É—Å–∫–∞—î –≤–∞–ª—ñ–¥–∞—Ü—ñ—é</td>
                        </tr>
                        <tr>
                            <td><code>getPlainText()</code></td>
                            <td>–ü–æ–≤–µ—Ä—Ç–∞—î plain text –±–µ–∑ —Ç–µ–≥—ñ–≤</td>
                        </tr>
                        <tr>
                            <td><code>getMode()</code></td>
                            <td>–ü–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Ç–æ—á–Ω–∏–π —Ä–µ–∂–∏–º: <code>'text'</code> –∞–±–æ <code>'code'</code></td>
                        </tr>
                        <tr>
                            <td><code>setMode(mode)</code></td>
                            <td>–ü–µ—Ä–µ–º–∏–∫–∞—î —Ä–µ–∂–∏–º –ø—Ä–æ–≥—Ä–∞–º–Ω–æ</td>
                        </tr>
                        <tr>
                            <td><code>focus()</code></td>
                            <td>–§–æ–∫—É—Å –Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ–º—É —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ (text –∞–±–æ code)</td>
                        </tr>
                        <tr>
                            <td><code>clear()</code></td>
                            <td>–û—á–∏—â–∞—î –∫–æ–Ω—Ç–µ–Ω—Ç —ñ –∑–∞–ø—É—Å–∫–∞—î –≤–∞–ª—ñ–¥–∞—Ü—ñ—é</td>
                        </tr>
                        <tr>
                            <td><code>destroy()</code></td>
                            <td>–í–∏–¥–∞–ª—è—î HTML –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞</td>
                        </tr>
                        <tr>
                            <td><code>getState()</code></td>
                            <td>–ü–æ–≤–µ—Ä—Ç–∞—î –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π state (–¥–ª—è –ø–ª–∞–≥—ñ–Ω—ñ–≤ / –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è)</td>
                        </tr>
                    </table>
                    <div class="m3-code">
                        <div class="m3-code-label">–ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è</div>
<pre>const editor = createHighlightEditor(container);

// –ß–∏—Ç–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –ø—Ä–∏ —Å–∞–±–º—ñ—Ç—ñ —Ñ–æ—Ä–º–∏
form.addEventListener('submit', () => {
    const html = editor.getValue();  // —á–∏—Å—Ç–∏–π HTML
    const text = editor.getPlainText();
});

// –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ –∑ –±–µ–∫–µ–Ω–¥—É
editor.setValue(dataFromServer.description);

// –û—á–∏—Å—Ç–∏—Ç–∏ –ø—ñ—Å–ª—è —Å–∞–±–º—ñ—Ç—É
editor.clear();
editor.focus();</pre>
                    </div>
                </div>
            </section>

            <!-- ============================================================ -->
            <!-- –ü–õ–ê–ì–Ü–ù–ò -->
            <!-- ============================================================ -->
            <section class="m3-section" id="plugins">
                <div class="m3-section-hero">
                    <h2>–ù–∞–ø–∏—Å–∞—Ç–∏ —Å–≤—ñ–π –ø–ª–∞–≥—ñ–Ω</h2>
                    <p>–ü–ª–∞–≥—ñ–Ω ‚Äî –æ–¥–∏–Ω —Ñ–∞–π–ª –∑ <code>export function init(state)</code>. –î–æ–¥–∞—î—Ç—å—Å—è –≤ –º–∞—Å–∏–≤ <code>PLUGINS</code> –≤ <code>editor-main.js</code>.</p>
                </div>

                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3>–®–∞–±–ª–æ–Ω –ø–ª–∞–≥—ñ–Ω–∞</h3>
                        <p>–ü–ª–∞–≥—ñ–Ω –æ—Ç—Ä–∏–º—É—î <code>state</code> —ñ –º–æ–∂–µ: —Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ —Ö—É–∫–∏, —á–∏—Ç–∞—Ç–∏ DOM, –¥–æ–¥–∞–≤–∞—Ç–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫—É. –ù—ñ—è–∫–∏—Ö –ø—Ä—è–º–∏—Ö —ñ–º–ø–æ—Ä—Ç—ñ–≤ –º—ñ–∂ –ø–ª–∞–≥—ñ–Ω–∞–º–∏.</p>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">editor-plugin-my-feature.js</div>
<pre>/**
 * ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
 * ‚ïë  üîå –ü–õ–ê–ì–Ü–ù ‚Äî –ú–æ—è —Ñ—É–Ω–∫—Ü—ñ—è                                                  ‚ïë
 * ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
 * ‚ïë                                                                          ‚ïë
 * ‚ïë  –û–ø–∏—Å —â–æ —Ä–æ–±–∏—Ç—å –ø–ª–∞–≥—ñ–Ω.                                                  ‚ïë
 * ‚ïë  –ú–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏ ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø—Ä–∞—Ü—é–≤–∞—Ç–∏–º–µ –±–µ–∑ —Ü—ñ—î—ó —Ñ—É–Ω–∫—Ü—ñ—ó.                ‚ïë
 * ‚ïë                                                                          ‚ïë
 * ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
 */

export function init(state) {
    // –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –ø–æ—Ç—Ä—ñ–±–µ–Ω –ø–ª–∞–≥—ñ–Ω
    if (!state.config.myFeature) return;

    const { dom } = state;

    // –ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—å –Ω–∞ —Ö—É–∫–∏
    state.registerHook('onInput', () => {
        // —Ä–µ–∞–∫—Ü—ñ—è –Ω–∞ –∑–º—ñ–Ω–∏ —Ç–µ–∫—Å—Ç—É
    }, { plugin: 'my-feature' });

    state.registerHook('onValidate', () => {
        // —Ä–µ–∞–∫—Ü—ñ—è –ø—ñ—Å–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
    }, { plugin: 'my-feature' });

    // –ü–µ—Ä–µ–¥ –∑–º—ñ–Ω–æ—é ‚Äî –∑–±–µ—Ä–µ–≥—Ç–∏ —Å—Ç–∞–Ω –¥–ª—è undo
    state.runHook('onWillChange');
    dom.editor.innerHTML = newContent;
}</pre>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">editor-main.js ‚Äî –¥–æ–¥–∞—Ç–∏ –≤ –º–∞—Å–∏–≤ PLUGINS</div>
<pre>const PLUGINS = [
    './editor-plugin-formatting.js',
    // ...
    './editor-plugin-my-feature.js',  // ‚Üê –¥–æ–¥–∞—Ç–∏ —Å—é–¥–∏
];</pre>
                    </div>
                </div>
            </section>

            <!-- ============================================================ -->
            <!-- –ö–û–ù–§–Ü–ì–£–†–ê–¶–Ü–á -->
            <!-- ============================================================ -->
            <section class="m3-section" id="configs">
                <div class="m3-section-hero">
                    <h2>–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó ‚Äî –Ω–∞–æ—á–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏</h2>
                    <p>–¢—Ä–∏ —Ç–∏–ø–æ–≤–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç–∏: —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–≥–ª—è–¥ –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∑—ñ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ—é.</p>
                </div>

                <!-- Readonly + check -->
                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3><code>editor check</code> ‚Äî readonly + –≤–∞–ª—ñ–¥–∞—Ü—ñ—è</h3>
                        <p>–ë–µ–∑ <code>tools</code> ‚Äî –±–ª–æ–∫ —Ç—ñ–ª—å–∫–∏ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è. –ó–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ —Å–ª–æ–≤–∞ –ø—ñ–¥—Å–≤—ñ—á—É—é—Ç—å—Å—è, —á—ñ–ø–∏ –ø–æ–∫–∞–∑—É—é—Ç—å —â–æ –∑–Ω–∞–π–¥–µ–Ω–æ. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ –º–æ–¥–∞–ª—è—Ö –ø–µ—Ä–µ–≥–ª—è–¥—É.</p>
                    </div>
                    <div class="m3-demo-wrap">
                        <div editor check
                             data-editor-id="cfg-check"
                             data-min-height="100"></div>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">HTML</div>
<pre>&lt;div editor check data-editor-id="cfg-check"&gt;&lt;/div&gt;</pre>
                    </div>
                </div>

                <!-- tools + check -->
                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3><code>editor tools check</code> ‚Äî —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è + –≤–∞–ª—ñ–¥–∞—Ü—ñ—è</h3>
                        <p>–ü–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–∏—Ö —Å–ª—ñ–≤ —ñ HTML –ø–∞—Ç–µ—Ä–Ω—ñ–≤. –û—Å–Ω–æ–≤–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –¥–ª—è SEO-–æ–ø–∏—Å—ñ–≤.</p>
                    </div>
                    <div class="m3-demo-wrap">
                        <div editor tools check
                             data-editor-id="cfg-edit"
                             data-min-height="100"></div>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">HTML</div>
<pre>&lt;div editor tools check data-editor-id="cfg-edit"&gt;&lt;/div&gt;</pre>
                    </div>
                </div>

                <!-- tools + stats -->
                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3><code>editor tools stats</code> ‚Äî —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è + —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                        <p>–ë–µ–∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó ‚Äî —Ç—ñ–ª—å–∫–∏ –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ —Å–∏–º–≤–æ–ª—ñ–≤, —Å–ª—ñ–≤ —Ç–∞ —á–∞—Å—É —á–∏—Ç–∞–Ω–Ω—è. –î–ª—è –ø–æ–ª—ñ–≤ –¥–µ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ —Å–ª–æ–≤–∞ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ.</p>
                    </div>
                    <div class="m3-demo-wrap">
                        <div editor tools stats
                             data-editor-id="cfg-stats"
                             data-min-height="100"></div>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">HTML</div>
<pre>&lt;div editor tools stats data-editor-id="cfg-stats"&gt;&lt;/div&gt;</pre>
                    </div>
                </div>

                <!-- editor only ‚Äî readonly text -->
                <div class="m3-block">
                    <div class="m3-block-header">
                        <h3><code>editor</code> ‚Äî —Ç—ñ–ª—å–∫–∏ –≤–∏–≤–µ–¥–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É</h3>
                        <p>–ë–µ–∑ –∂–æ–¥–Ω–∏—Ö —á–∞—Ä–º—ñ–≤ ‚Äî –ø—Ä–æ—Å—Ç–æ readonly –±–ª–æ–∫. –ù—ñ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è, –Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏, –Ω—ñ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏. –î–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≥–æ—Ç–æ–≤–æ–≥–æ —Ç–µ–∫—Å—Ç—É.</p>
                    </div>
                    <div class="m3-demo-wrap">
                        <div editor
                             data-editor-id="cfg-view"
                             data-min-height="60"></div>
                    </div>
                    <div class="m3-code">
                        <div class="m3-code-label">HTML</div>
<pre>&lt;div editor data-editor-id="cfg-view"&gt;&lt;/div&gt;</pre>
                    </div>
                </div>

            </section>

        </div>
    </main>

    <script>
        // –ü—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—É–Ω–∫—Ç—É –≤ sidebar –ø—Ä–∏ —Å–∫—Ä–æ–ª—ñ
        const navItems = document.querySelectorAll('.m3-nav-item');
        const sections = document.querySelectorAll('.m3-section');

        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    navItems.forEach(item => item.classList.remove('active'));
                    const active = document.querySelector(`.m3-nav-item[href="#${entry.target.id}"]`);
                    if (active) active.classList.add('active');
                }
            });
        }, { rootMargin: '-30% 0px -60% 0px', threshold: 0 });

        sections.forEach(s => observer.observe(s));
    </script>

    <script type="module">
        import { createHighlightEditor } from '../js/components/editor/editor-main.js';

        // –ì–æ–ª–æ–≤–Ω–∏–π –¥–µ–º–æ ‚Äî –≤—Å—ñ —á–∞—Ä–º–∏
        const demoContainer = document.querySelector('[data-editor-id="demo"]');
        if (demoContainer) createHighlightEditor(demoContainer);

        // –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è 1: readonly + check
        const checkContainer = document.querySelector('[data-editor-id="cfg-check"]');
        if (checkContainer) {
            const e = createHighlightEditor(checkContainer);
            e?.setValue('–ó–∞—Å—ñ–± –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∑–Ω—ñ–º–∞—î –±—ñ–ª—å —Ç–∞ –∑–∞–ø–∞–ª–µ–Ω–Ω—è. –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π –ª—ñ–∫–∞—Ä—è–º–∏.');
        }

        // –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è 2: tools + check
        const editContainer = document.querySelector('[data-editor-id="cfg-edit"]');
        if (editContainer) {
            const e = createHighlightEditor(editContainer);
            e?.setValue('–°–ø—Ä–æ–±—É–π—Ç–µ –≤—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ç–µ–∫—Å—Ç ‚Äî –∑–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ —Å–ª–æ–≤–∞ –ø—ñ–¥—Å–≤—ñ—á—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É. –ù–∞–ø—Ä–∏–∫–ª–∞–¥: –±—ñ–ª—å.');
        }

        // –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è 3: tools + stats
        const statsContainer = document.querySelector('[data-editor-id="cfg-stats"]');
        if (statsContainer) {
            const e = createHighlightEditor(statsContainer);
            e?.setValue('–ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ —Å–∏–º–≤–æ–ª—ñ–≤ —Ç–∞ —Å–ª—ñ–≤ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –≤–≤–µ–¥–µ–Ω–Ω—ñ —Ç–µ–∫—Å—Ç—É.');
        }

        // –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è 4: —Ç—ñ–ª—å–∫–∏ –≤–∏–≤–µ–¥–µ–Ω–Ω—è
        const viewContainer = document.querySelector('[data-editor-id="cfg-view"]');
        if (viewContainer) {
            const e = createHighlightEditor(viewContainer);
            e?.setValue('–¶–µ –∑–≤–∏—á–∞–π–Ω–∏–π —Ç–µ–∫—Å—Ç —Ç—ñ–ª—å–∫–∏ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è. –ö–ª—ñ–∫–∞—Ç–∏ –º–æ–∂–Ω–∞, —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ ‚Äî –Ω—ñ.');
        }
    </script>

</body>
</html>
