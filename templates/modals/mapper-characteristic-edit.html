<div class="modal-overlay">
    <div class="modal-container modal-large">
        <!-- Header -->
        <div class="modal-header">
            <h2 class="modal-title"><span id="modal-title">Додати характеристику</span></h2>
            <div class="modal-header-actions">
                <div class="connected-button-group-square">
                    <button id="delete-mapper-characteristic" class="segment u-hidden" aria-label="Видалити">
                        <div class="state-layer">
                            <span class="material-symbols-outlined">delete</span>
                            <span class="label">Видалити</span>
                        </div>
                    </button>
                    <button id="save-mapper-characteristic" class="segment" aria-label="Зберегти">
                        <div class="state-layer">
                            <span class="label">Зберегти</span>
                        </div>
                    </button>
                    <button class="segment modal-close-btn" aria-label="Закрити">
                        <div class="state-layer">
                            <span class="material-symbols-outlined">close</span>
                        </div>
                    </button>
                </div>
            </div>
        </div>

        <!-- Body Split -->
        <div class="modal-body modal-body-split">
            <!-- ЛІВА ЧАСТИНА: Форма -->
            <div class="modal-body-split-left">
                <fieldset class="form-fieldset">

                    <!-- Секція: Прив'язки -->
                    <div class="modal-split-section-title">
                        <span class="material-symbols-outlined">link</span>
                        <span>Прив'язки</span>
                    </div>

                    <div class="form-group">
                        <label for="mapper-char-categories">Категорії</label>
                        <select id="mapper-char-categories" multiple data-custom-select data-placeholder="Оберіть категорії">
                            <!-- Заповнюється динамічно -->
                        </select>
                        <p class="form-hint">Оберіть категорії, до яких належить характеристика</p>
                    </div>

                    <div class="form-group">
                        <label for="mapper-char-parent-option">Залежить від опцій</label>
                        <select id="mapper-char-parent-option" multiple data-custom-select data-placeholder="Оберіть опції">
                            <!-- Заповнюється динамічно -->
                        </select>
                        <p class="form-hint">Характеристика буде показана якщо обрана будь-яка з вказаних опцій</p>
                    </div>

                    <!-- Секція: Основні дані -->
                    <div class="modal-split-section-title" style="margin-top: 24px;">
                        <span class="material-symbols-outlined">edit</span>
                        <span>Основні дані</span>
                    </div>

                    <div class="grid2">
                        <div class="form-group">
                            <label for="mapper-char-name-ua">
                                Назва (UA)
                                <span class="required">*</span>
                            </label>
                            <input type="text" id="mapper-char-name-ua" class="input-main" placeholder="Назва українською" required>
                        </div>

                        <div class="form-group">
                            <label for="mapper-char-name-ru">Назва (RU)</label>
                            <input type="text" id="mapper-char-name-ru" class="input-main" placeholder="Назва російською">
                        </div>
                    </div>

                    <div class="grid2">
                        <div class="form-group">
                            <label for="mapper-char-type">Тип</label>
                            <select id="mapper-char-type" data-custom-select>
                                <option value="TextInput">TextInput</option>
                                <option value="MultiText">MultiText</option>
                                <option value="Decimal">Decimal</option>
                                <option value="TextArea">TextArea</option>
                                <option value="List">List</option>
                                <option value="ComboBox">ComboBox</option>
                                <option value="ListValues">ListValues</option>
                                <option value="CheckBoxGroup">CheckBoxGroup</option>
                                <option value="Integer">Integer</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="mapper-char-unit">Одиниця виміру</label>
                            <input type="text" id="mapper-char-unit" class="input-main" placeholder="мг, шт, мл...">
                        </div>
                    </div>

                    <div class="grid2">
                        <div class="form-group">
                            <label for="mapper-char-filter">Тип фільтра</label>
                            <select id="mapper-char-filter" data-custom-select>
                                <option value="disable">Disable</option>
                                <option value="main">Main</option>
                                <option value="bottom">Bottom</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Глобальна</label>
                            <div class="switch-container" id="mapper-char-global-switch">
                                <input type="radio" id="mapper-char-global-no" name="mapper-char-global" value="false" checked>
                                <label for="mapper-char-global-no" class="switch-label">Ні</label>
                                <input type="radio" id="mapper-char-global-yes" name="mapper-char-global" value="true">
                                <label for="mapper-char-global-yes" class="switch-label">Так</label>
                            </div>
                            <p class="form-hint">Глобальна характеристика доступна для всіх категорій</p>
                        </div>
                    </div>

                </fieldset>
            </div>

            <!-- ПРАВА ЧАСТИНА: Пов'язані опції -->
            <div class="modal-body-split-right">
                <div class="modal-split-section-title">
                    <span>Опції цієї характеристики</span>
                    <span id="char-options-count" class="modal-related-count"></span>
                </div>

                <div id="char-related-options" class="modal-related-list">
                    <!-- Заповнюється динамічно -->
                    <div class="modal-related-empty">
                        <span class="modal-related-empty-text">Опції відсутні</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
