<div class="modal-overlay modal-fullscreen" data-modal-id="mapper-characteristic-edit">
    <div class="modal-fullscreen-container modal-with-sidebar">

        <!-- HEADER -->
        <header class="modal-fullscreen-header">
            <div class="modal-fullscreen-header-left">
                <button class="btn-icon touch" data-modal-close title="Закрити">
                    <span class="material-symbols-outlined">arrow_back</span>
                </button>
                <div class="modal-fullscreen-title">
                    <h1 id="char-modal-title">Характеристика</h1>
                    <span class="dot c-red" id="char-global-dot" title="Категорійна"></span>
                </div>
            </div>
            <div class="group">
                <div class="switch switch-outline switch-fit" id="mapper-char-global-switch">
                    <input type="radio" id="mapper-char-global-no" name="mapper-char-global" value="false" checked>
                    <label for="mapper-char-global-no" class="switch-label">Категорійна</label>
                    <input type="radio" id="mapper-char-global-yes" name="mapper-char-global" value="true">
                    <label for="mapper-char-global-yes" class="switch-label">Глобальна</label>
                </div>
                <button class="btn-primary" id="save-mapper-characteristic">
                    <span class="material-symbols-outlined">save</span>
                    <span>Зберегти</span>
                </button>
            </div>
        </header>

        <!-- BODY WITH SIDEBAR -->
        <div class="modal-body-with-sidebar">

            <!-- SIDEBAR NAVIGATOR -->
            <nav class="nav column" id="char-section-navigator">
                <div class="nav-main">
                    <a href="#section-char-main" class="btn-icon expand touch active" aria-label="Основні дані">
                        <span class="material-symbols-outlined">edit</span>
                        <span class="btn-icon-label">Основні дані</span>
                    </a>
                    <a href="#section-char-options" class="btn-icon expand touch" aria-label="Опції">
                        <span class="material-symbols-outlined">circle</span>
                        <span class="btn-icon-label">Опції</span>
                    </a>
                    <!-- Секції маркетплейсів додаються динамічно через JS -->
                </div>
                <div class="nav-footer">
                    <button type="button" class="btn-delete u-hidden" id="delete-mapper-characteristic" aria-label="Видалити">
                        <span class="material-symbols-outlined">delete</span>
                    </button>
                </div>
            </nav>

            <!-- CONTENT SECTIONS -->
            <main class="modal-fullscreen-content">

                <!-- СЕКЦІЯ: ОСНОВНІ ДАНІ -->
                <section id="section-char-main" >
                    <div class="section-header">
                        <div class="section-name-block">
                            <div class="section-name">
                                <h2 class="title-l section-upper">Основні дані</h2>
                                <button class="btn-icon" aria-label="Інформація">
                                    <span class="material-symbols-outlined">info</span>
                                </button>
                            </div>
                            <span class="body-s">Налаштування власної характеристики</span>
                        </div>
                    </div>

                    <div class="section-content">
                        <!-- Прив'язки -->
                        <div class="grid">
                            <div class="group column col-6">
                                <label class="label-l" for="mapper-char-categories">Категорії</label>
                                <select id="mapper-char-categories" multiple data-custom-select data-placeholder="Оберіть категорії">
                                    <!-- Заповнюється динамічно -->
                                </select>
                                <label class="label-s">Оберіть категорії, до яких належить характеристика</label>
                            </div>

                        </div>

                        <div class="grid">
                            <div class="group column col-6">
                                <label class="label-l" for="mapper-char-name-ua">
                                    Назви
                                    <span class="dot c-red small"></span>
                                </label>
                                <div class="content-bloc-container">
                                    <div class="content-bloc">
                                        <div class="content-line">
                                            <div class="input-box">
                                                <input type="text" id="mapper-char-name-ua"
                                                    placeholder="Назва українською" required>
                                                <span class="tag c-main">UA</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="content-bloc">
                                        <div class="content-line">
                                            <div class="input-box">
                                                <input type="text" id="mapper-char-name-ru"
                                                    placeholder="Назва російською">
                                                <span class="tag c-main">RU</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="grid">
                            <div class="group column col-12">
                                <label class="label-l" for="mapper-char-hint">Підказка</label>
                                <input type="text" id="mapper-char-hint" class="input-main" placeholder="Підказка під полем у формі товару">
                                <label class="label-s">Відображається під полем (наприклад: "Вказуйте на 100г продукту")</label>
                            </div>
                        </div>

                        <!-- Тип та налаштування -->
                        <div class="grid">
                            <div class="group column col-3">
                                <label class="label-l" for="mapper-char-block">Блок</label>
                                <select id="mapper-char-block" data-custom-select>
                                    <option value="">— Оберіть блок —</option>
                                    <optgroup label="Характеристики">
                                        <option value="1">Скільки там?</option>
                                        <option value="2">Який він?</option>
                                        <option value="3">Кому це?</option>
                                        <option value="4">Навіщо це?</option>
                                        <option value="5">Звідки це?</option>
                                        <option value="6">Куди відправляти?</option>
                                    </optgroup>
                                    <optgroup label="Інші секції">
                                        <option value="8">Варіант</option>
                                        <option value="9">Інше</option>
                                    </optgroup>
                                </select>
                                <label class="label-s">Блок картки товару</label>
                            </div>

                            <div class="group column col-3">
                                <label class="label-l" for="mapper-char-type">Тип</label>
                                <select id="mapper-char-type" data-custom-select>
                                    <option value="TextInput">TextInput</option>
                                    <option value="MultiText">MultiText</option>
                                    <option value="Decimal">Decimal</option>
                                    <option value="TextArea">TextArea</option>
                                    <option value="List">List</option>
                                    <option value="ComboBox">ComboBox</option>
                                    <option value="ListValues">ListValues</option>
                                    <option value="CheckBoxGroup">CheckBoxGroup</option>
                                    <option value="Integer">Integer</option>
                                </select>
                            </div>

                            <div class="group column col-2">
                                <label class="label-l" for="mapper-char-unit">Одиниця</label>
                                <input type="text" id="mapper-char-unit" class="input-main" placeholder="мг, шт...">
                            </div>

                            <div class="group column col-2">
                                <label class="label-l" for="mapper-char-filter">Фільтр</label>
                                <select id="mapper-char-filter" data-custom-select>
                                    <option value="disable">Disable</option>
                                    <option value="main">Main</option>
                                    <option value="bottom">Bottom</option>
                                </select>
                            </div>

                            <div class="group column col-1">
                                <label class="label-l" for="mapper-char-sort-order">Порядок</label>
                                <input type="number" id="mapper-char-sort-order" class="input-main" placeholder="0" min="0">
                            </div>

                            <div class="group column col-1">
                                <label class="label-l" for="mapper-char-col-size">Ширина</label>
                                <select id="mapper-char-col-size" data-custom-select>
                                    <option value="">— Авто —</option>
                                    <option value="1">Все</option>
                                    <option value="2">Половина</option>
                                    <option value="3">Третина</option>
                                    <option value="4">Чвертина</option>
                                    <option value="6">Шоста</option>
                                </select>
                                <label class="label-s">Ширина поля в формі товару</label>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- СЕКЦІЯ: ОПЦІЇ -->
                <section id="section-char-options" >
                    <div class="section-header">
                        <div class="section-name-block">
                            <div class="section-name">
                                <h2 class="title-l section-upper">Опції</h2>
                            </div>
                        </div>
                        <div class="group">
                            <div class="content-line panel">
                                <span class="material-symbols-outlined">search</span>
                                <input type="text" id="char-options-search" placeholder="Пошук опцій...">
                            </div>
                            <button class="btn-outline" id="btn-add-char-option">
                                <span class="material-symbols-outlined">add</span>
                                <span>Додати опцію</span>
                            </button>
                        </div>
                    </div>

                    <div id="char-related-options" class="pseudo-table-container"
                         pagination refresh columns>
                        <!-- Заповнюється динамічно -->
                    </div>
                    <div class="footer"><div class="footer-left"></div><div class="footer-right"></div></div>
                </section>

                <!-- СЕКЦІЇ МАРКЕТПЛЕЙСІВ додаються динамічно через JS -->

            </main>
        </div>
    </div>
</div>
