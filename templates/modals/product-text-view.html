<!-- templates/modals/product-text-view.html -->
<!-- Модальне вікно для перегляду повного тексту товару з підсвіченими забороненими словами -->

<div class="modal-overlay">
    <div class="modal-container modal-large">
        <!-- Header -->
        <div class="modal-header">
            <h2 class="modal-title">Перегляд <span id="product-modal-title">...</span></h2>
            <div class="modal-header-actions">
                <span class="badge badge-neutral clickable" id="product-modal-status-badge" data-badge-id="" data-status="FALSE">
                    <span class="material-symbols-outlined" style="font-size: 16px;">cancel</span>
                    <span class="badge-label">Ні</span>
                </span>
                <div class="connected-button-group-square">
                    <button id="product-modal-copy-btn" class="segment" aria-label="Копіювати текст">
                        <div class="state-layer">
                            <span class="material-symbols-outlined">content_copy</span>
                        </div>
                    </button>
                    <button class="segment modal-close-btn" aria-label="Закрити" data-modal-close>
                        <div class="state-layer">
                            <span class="material-symbols-outlined">close</span>
                        </div>
                    </button>
                </div>
            </div>
        </div>

        <!-- Body -->
        <div class="modal-body">
            <!-- Метадані (приховані для JS) -->
            <input type="hidden" id="product-modal-product-id">
            <input type="hidden" id="product-modal-sheet-name">
            <input type="hidden" id="product-modal-row-index">

            <!-- Toolbar: Field tabs ←→ ID + Sheet pills -->
            <div class="xr-toolbar" style="margin-bottom: 16px;">
                <div class="filter-pills-container" id="product-text-field-pills">
                    <!-- Піли колонок будуть динамічно створені -->
                </div>
                <div class="toolbar" style="gap: 16px;">
                    <!-- Таби аркушів (якщо > 1 аркуша) -->
                    <div class="filter-pills-container u-hidden" id="product-sheet-pills"></div>
                    <span id="product-modal-id" class="text-stats-container" style="pointer-events: auto;">ID: <strong>...</strong></span>
                </div>
            </div>

            <!-- Text viewer -->
            <div class="product-text-content">
                <!-- Панелі будуть динамічно створені -->
            </div>
        </div>

        <!-- Footer: Stats + Chips -->
        <div class="modal-footer" style="flex-direction: column; align-items: stretch; gap: 12px;">
            <div class="text-stats-container" style="pointer-events: auto; justify-content: center; width: 100%;">
                <span class="stat-item">
                    <span class="material-symbols-outlined" style="font-size: 16px;">policy</span>
                    Слів: <strong id="product-modal-banned-count">0</strong>
                </span>
                <span class="stat-item">
                    <span class="material-symbols-outlined" style="font-size: 16px;">match_word</span>
                    Входжень: <strong id="product-modal-match-count">0</strong>
                </span>
            </div>
            <div id="product-modal-banned-chips" class="chip-list" style="justify-content: center;">
                <!-- Chip для кожного забороненого слова -->
            </div>
        </div>
    </div>
</div>
