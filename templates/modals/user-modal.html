<div class="modal-title-source" style="display: none;">
    <span id="modal-title">Додати користувача</span>
</div>

<div class="modal-header-actions-source" style="display: none;">
    <!-- Кнопки тільки для режиму редагування -->
    <button id="reset-user-password" class="nav-icon chip-error" aria-label="Змінити пароль" style="display: none;">
        <span class="material-symbols-outlined">key</span>
        <span class="nav-icon-label">Змінити пароль</span>
    </button>
    <button id="delete-user" class="nav-icon chip-error" aria-label="Видалити" style="display: none;">
        <span class="material-symbols-outlined">delete</span>
        <span class="nav-icon-label">Видалити</span>
    </button>

    <!-- Загальна кнопка збереження -->
    <button id="save-user" class="segment" aria-label="Зберегти">
        <div class="state-layer">
            <span class="label">Створити</span>
        </div>
    </button>
    <button class="segment modal-close-btn" aria-label="Закрити">
        <div class="state-layer">
            <span class="material-symbols-outlined">close</span>
        </div>
    </button>
</div>

<div class="modal-body-source">
    <fieldset class="form-fieldset">
        <!-- Прихований ID для режиму редагування -->
        <input type="hidden" id="user-id">

        <div class="form-group">
            <label for="user-display-name">
                Повне ім'я
            </label>
            <input type="text" id="user-display-name" class="input-main" placeholder="Іван Петренко">
        </div>

        <div class="form-group">
            <label for="user-username">
                Ім'я користувача
                <span class="required">*</span>
            </label>
            <input type="text" id="user-username" class="input-main" placeholder="username123" required minlength="3">
        </div>

        <!-- Поле пароль - тільки для режиму створення -->
        <div id="password-field-group" class="form-group">
            <label for="user-password">
                Пароль
                <span class="required">*</span>
            </label>
            <input type="password" id="user-password" class="input-main" placeholder="Мінімум 6 символів" required minlength="6" autocomplete="new-password">
        </div>

        <div class="form-group">
            <label for="user-role">
                Роль
                <span class="required">*</span>
            </label>
            <select id="user-role" data-custom-select>
                <option value="">-- Оберіть роль --</option>
                <option value="viewer">Viewer (тільки читання)</option>
                <option value="editor">Editor (читання + запис)</option>
                <option value="admin">Admin (повний доступ)</option>
            </select>
        </div>

        <div class="form-group">
            <label>Аватар</label>
            <input type="hidden" id="selected-avatar" value="">
            <div id="avatar-preview" class="avatar-preview" style="display: none;"></div>
            <div id="avatar-selector"></div>
        </div>
    </fieldset>
</div>
