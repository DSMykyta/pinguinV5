// js/utils/event-handlers.js

/*
 * ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
 * ‚ïë                  EVENT HANDLERS ‚Äî –û–ë–†–û–ë–ù–ò–ö–ò –ü–û–î–Ü–ô                       ‚ïë
 * ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
 * ‚ïë  üõ†Ô∏è –£–¢–ò–õ–Ü–¢–ê ‚Äî –°–∫—Ä–æ–ª –¥–æ —Å–µ–∫—Ü—ñ–π —Ç–∞ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è –ø–æ—Å–∏–ª–∞–Ω—å –∑ panel-item        ‚ïë
 * ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
 */

export function initEventHandlers() {
    const panelItems = document.querySelectorAll('.panel-item');

    panelItems.forEach(item => {
        // –î–æ–¥–∞—î–º–æ —Å—Ç–∏–ª—å, —â–æ–± –ø–æ–∫–∞–∑–∞—Ç–∏, —â–æ –±–ª–æ–∫ –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω–∏–π
        item.style.cursor = 'pointer';

        item.addEventListener('click', function(event) {
            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —î —É –µ–ª–µ–º–µ–Ω—Ç–∞ –∞—Ç—Ä–∏–±—É—Ç –¥–ª—è —Å–∫—Ä–æ–ª—É
            const scrollToSelector = item.dataset.scrollTo;

            // --- –õ–û–ì–Ü–ö–ê –î–õ–Ø –°–ö–†–û–õ–£ ---
            if (scrollToSelector) {
                const targetElement = document.querySelector(scrollToSelector);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            } 
            // --- –°–¢–ê–†–ê –õ–û–ì–Ü–ö–ê –î–õ–Ø –í–Ü–î–ö–†–ò–¢–¢–Ø –ü–û–°–ò–õ–ê–ù–ù–Ø ---
            else {
                const link = item.querySelector('a');
                if (link) {
                    // –¶—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ—Ç—Ä—ñ–±–Ω–∞, —â–æ–± –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ 2 –≤–∫–ª–∞–¥–∫–∏,
                    // —è–∫—â–æ –≤–∏ –∫–ª—ñ–∫–Ω–µ—Ç–µ –ø—Ä—è–º–æ –Ω–∞ —ñ–∫–æ–Ω–∫—É "open_in_new".
                    if (!event.target.closest('a')) {
                        window.open(link.href, '_blank');
                    }
                }
            }
        });
    });
}