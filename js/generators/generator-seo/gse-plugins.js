// js/generators/generator-seo/gse-plugins.js
/*
 * ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
 * ‚ïë                     GENERATOR SEO - PLUGINS                             ‚ïë
 * ‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
 * ‚ïë  üîí –Ø–î–†–û ‚Äî –°–∏—Å—Ç–µ–º–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –ø–ª–∞–≥—ñ–Ω—ñ–≤ —Ç–∞ —Ö—É–∫—ñ–≤                        ‚ïë
 * ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
 */

/**
 * –°–ò–°–¢–ï–ú–ê –ü–õ–ê–ì–Ü–ù–Ü–í SEO –ì–ï–ù–ï–†–ê–¢–û–†–ê
 *
 * –î–æ–∑–≤–æ–ª—è—î –º–æ–¥—É–ª—è–º —Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è —ñ –±—É—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–∏–º–∏ –±–µ–∑ –ø–æ–º–∏–ª–æ–∫.
 *
 * –•—É–∫–∏ (–ø–æ–¥—ñ—ó):
 * - onInit: –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó SEO
 * - onCalculate: –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ä–∞—Ö—É–Ω–∫—É SEO
 * - onReset: –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ —Å–∫–∏–¥–∞–Ω–Ω—ñ —Ñ–æ—Ä–º–∏
 */

const hooks = {
    onInit: [],
    onCalculate: [],
    onReset: [],
};

/**
 * –†–µ—î—Å—Ç—Ä—É—î –ø–ª–∞–≥—ñ–Ω –¥–ª—è –ø–µ–≤–Ω–æ–≥–æ —Ö—É–∫–∞
 * @param {string} hookName - –ù–∞–∑–≤–∞ —Ö—É–∫–∞ (onInit, onCalculate, onReset)
 * @param {Function} callback - –§—É–Ω–∫—Ü—ñ—è —è–∫–∞ –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞–Ω–∞
 * @param {number} priority - –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç (–º–µ–Ω—à–µ = —Ä–∞–Ω—ñ—à–µ), –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 10
 */
export function registerSeoPlugin(hookName, callback, priority = 10) {
    if (!hooks[hookName]) {
        console.warn(`[SEO Plugins] –ù–µ–≤—ñ–¥–æ–º–∏–π —Ö—É–∫: ${hookName}`);
        return;
    }

    hooks[hookName].push({ callback, priority });
    // –°–æ—Ä—Ç—É—î–º–æ –ø–æ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç—É
    hooks[hookName].sort((a, b) => a.priority - b.priority);
}

/**
 * –í–∏–∫–ª–∏–∫–∞—î –≤—Å—ñ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω—ñ –ø–ª–∞–≥—ñ–Ω–∏ –¥–ª—è —Ö—É–∫–∞
 * @param {string} hookName - –ù–∞–∑–≤–∞ —Ö—É–∫–∞
 * @param {...any} args - –ê—Ä–≥—É–º–µ–Ω—Ç–∏ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ –≤ –ø–ª–∞–≥—ñ–Ω–∏
 */
export function runHook(hookName, ...args) {
    if (!hooks[hookName]) return;

    hooks[hookName].forEach(({ callback }) => {
        try {
            callback(...args);
        } catch (err) {
            console.error(`[SEO Plugin Error] ${hookName}:`, err);
        }
    });
}

/**
 * –ü–æ–≤–µ—Ä—Ç–∞—î —Å–ø–∏—Å–æ–∫ –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏—Ö –ø–ª–∞–≥—ñ–Ω—ñ–≤ (–¥–ª—è –¥–µ–±–∞–≥—É)
 */
export function getRegisteredPlugins() {
    const result = {};
    for (const [hookName, plugins] of Object.entries(hooks)) {
        result[hookName] = plugins.length;
    }
    return result;
}

/**
 * –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó, —è–∫—ñ –ø–ª–∞–≥—ñ–Ω–∏ –º–æ–∂—É—Ç—å —Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏.
 * –Ø–∫—â–æ –ø–ª–∞–≥—ñ–Ω –≤–∏–¥–∞–ª–µ–Ω–æ ‚Äî —Ñ—É–Ω–∫—Ü—ñ—è –ø—Ä–æ—Å—Ç–æ –Ω–µ –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞–Ω–∞.
 */
export const optionalFunctions = {};
