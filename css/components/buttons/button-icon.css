/**
 * COMPONENT: Icon Button
 *
 * ПРИЗНАЧЕННЯ:
 * Кругла кнопка з іконкою для швидких дій (закрити, меню, інформація, редагувати).
 * Мінімалістичний дизайн без тексту, тільки іконка Material Symbols.
 *
 * ВИКОРИСТАННЯ:
 * Використовується для дій де іконка сама по собі зрозуміла без тексту.
 * Обов'язково додавайте aria-label для доступності.
 *
 * HTML ПРИКЛАД:
 * <button class="btn-icon" aria-label="Закрити">
 *   <span class="material-symbols-outlined">close</span>
 * </button>
 *
 * <button class="btn-icon ghost" aria-label="Перемістити">
 *   <span class="material-symbols-outlined">drag_handle</span>
 * </button>
 *
 * КЛАСИ:
 * - .btn-icon - базовий клас (32x32px, круглий, hover з фоном)
 * - .btn-icon:hover - стан наведення (фон, тінь)
 * - .btn-icon.active / .is-active - активний стан
 *
 * ЧАРМИ (charms):
 * - .ghost - без фону при hover, тільки зміна кольору
 * - .reload - приглушений колір, нейтральний hover (surface-c-high)
 * - .drag - cursor: grab/grabbing для drag-handle кнопок
 * - .reveal - прихована, з'являється при hover на батьківський елемент
 * - .danger - hover червоним (error-c фон, error колір)
 *
 * ЗАЛЕЖНОСТІ:
 * - root.css (--color-main-t-2, --color-main, --color-on-surface-v, --color-surface-c-high, --transition-speed)
 * - Material Symbols (для іконок)
 *
 * ЗАСТОСУВАННЯ:
 * - Modal header (кнопка закриття)
 * - Panel header (згортання панелі)
 * - Table actions (редагувати, видалити)
 * - Навігація (back, forward)
 * - Drag handles (ghost + drag)
 * - Tree toggles (ghost)
 * - Section reload (reload)
 * - Row hidden actions (reveal)
 */

.btn-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;

    padding: 0;
    min-width: 32px;
    height: 32px;

    background-color: transparent;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    text-decoration: none;

    color: inherit;

    transition: background-color var(--transition-speed);
}

.btn-icon:hover,
.btn-icon.active,
.btn-icon.is-active {
    background-color: var(--color-main-t-2);
    border-color: var(--color-main);
    color: var(--color-main);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.btn-icon .material-symbols-outlined {
    font-size: 16px;
}

/* Чарм: ghost — без фону, тільки зміна кольору */
.btn-icon.ghost {
    color: var(--color-outline);
}

.btn-icon.ghost:hover {
    background-color: transparent;
    border-color: transparent;
    color: var(--color-on-surface);
    box-shadow: none;
}

/* Чарм: drag — cursor grab для перетягування */
.btn-icon.drag {
    cursor: grab;
}

.btn-icon.drag:active {
    cursor: grabbing;
}

/* Чарм: reveal — прихована, з'являється при hover батька */
.btn-icon.reveal {
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--transition-speed), visibility var(--transition-speed);
}

*:hover > .btn-icon.reveal {
    opacity: 1;
    visibility: visible;
}

/* Чарм: reload — перезавантаження секції */
.btn-icon.reload {
    color: var(--color-on-surface-v);
}

.btn-icon.reload:hover {
    background: var(--color-surface-c-high);
}

.btn-icon.reload .material-symbols-outlined {
    font-size: 20px;
}

/* Чарм: danger — hover червоним для деструктивних дій */
.btn-icon.danger:hover {
    background-color: var(--color-error-c);
    color: var(--color-error);
    border-color: transparent;
    box-shadow: none;
}

/* Чарм: кнопка очищення пошуку */
.clear-search-btn {
    margin-left: auto;
    flex-shrink: 0;
    opacity: 0.6;
    transition: opacity var(--transition-speed), transform var(--transition-speed);
}

.clear-search-btn:hover {
    opacity: 1;
    transform: rotate(90deg);
}
