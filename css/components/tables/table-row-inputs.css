/**
 * COMPONENT: Table Row Inputs
 *
 * ПРИЗНАЧЕННЯ:
 * Блок з двома input/textarea полями (ліве і праве) для редагування рядків таблиці.
 * Використовується в генераторі таблиць для введення даних складу/вмісту.
 *
 * ВИКОРИСТАННЯ:
 * <div class="inputs-bloc td">
 *   <button class="move-btn"><span class="material-symbols-outlined">drag_handle</span></button>
 *   <div class="inputs-line">
 *     <div class="left"><input class="input-left" placeholder="Назва"></div>
 *     <div class="right"><input class="input-right" placeholder="Значення"><span class="input-right-tool"></span></div>
 *   </div>
 *   <button class="btn-icon" data-dropdown-trigger><span class="material-symbols-outlined">tune</span></button>
 *   <button class="btn-icon" data-action="delete-row"><span class="material-symbols-outlined">close</span></button>
 * </div>
 *
 * СТРУКТУРА:
 * - .inputs-bloc - контейнер рядка з кнопками керування
 * - .inputs-line - внутрішній контейнер з полями
 * - .left/.right - обгортки для input/textarea
 * - .input-left/.input-right - поля введення
 * - .input-right-tool - тултіп/індикатор справа
 *
 * КЛАСИ ВІЗУАЛІЗАЦІЇ (додаються JS):
 * - .td - звичайний рядок таблиці
 * - .th - заголовок (світло-сірий фон)
 * - .th-strong - сильний заголовок (сірий фон, жирний)
 * - .bold - жирний текст
 * - .italic - курсив
 * - .h2 - великий заголовок (18px, ховає праву колонку)
 * - .colspan2 - об'єднання колонок (ховає праву)
 * - .single - одна колонка (ховає праву)
 * - .new-table - розділювач таблиць (невидимий)
 * - .added - доданий рядок (акцентний колір)
 *
 * ЗАЛЕЖНОСТІ:
 * - root.css (--color-outline, --color-on-surface, --color-main, --color-accent)
 *
 * ЗАСТОСУВАННЯ:
 * - templates/partials/table-row.html
 * - Generator Table (index.html #table)
 * - JS: table-row-utils.js (додає класи візуалізації)
 */

/* ============================================ */
/* БАЗОВА СТРУКТУРА РЯДКА */
/* ============================================ */

#rows-container .inputs-bloc {
    display: flex;
    align-items: center;
    gap: 8px;
}

.inputs-bloc .material-symbols-outlined {
    font-size: 20px;
}

/* ============================================ */
/* ПОЛЯ ВВЕДЕННЯ */
/* ============================================ */

.inputs-bloc input,
.inputs-bloc textarea {
    font-size: 12px;
    border: none;
    padding: 0 4px;
    background-color: transparent;
    width: 100%;
    resize: vertical;
    font-family: inherit;
    color: var(--color-on-surface);
}

.inputs-bloc input {
    height: 32px;
}

.inputs-bloc textarea {
    padding: 9px 8px 0 4px;
    min-height: 1.4375rem;
}

.inputs-bloc .h2 {
    border: none;
}

/* ============================================ */
/* КОНТЕЙНЕР INPUTS-LINE */
/* ============================================ */

.inputs-line {
    display: flex;
    flex-direction: row;
    width: 100%;
    border: 1px solid var(--color-outline);
    transition: border-radius 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
}

.left,
.right {
    display: flex;
    align-items: center;
    width: 100%;
}

.left {
    flex: 3;
}

.right {
    flex: 1;
    border-left: 1px solid var(--color-outline-v);
}

/* ============================================ */
/* ІНСТРУМЕНТ У ПРАВОМУ ПОЛІ */
/* ============================================ */

.input-right-tool {
    display: none;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    color: var(--color-main);
    background-color: var(--color-main-c);
    padding: 4px 8px;
    border-radius: 16px;
    margin-right: 4px;
}

.input-right-tool.tooltip-sm {
    display: flex;
}

/* Незамінна амінокислота - зелений індикатор */
.input-right-tool.essential-amino {
    background-color: var(--color-success-c);
    color: var(--color-success);
}

/* ============================================ */
/* ВІЗУАЛІЗАЦІЯ РЯДКІВ ТАБЛИЦІ */
/* ============================================ */

/* Злиття borders між td рядками */
.inputs-bloc.td + .inputs-bloc.td .inputs-line {
    margin-top: -1px;
}

/* Звичайний рядок */
.td .inputs-line {
    background-color: transparent;
}

/* Заголовок (світлий) */
.th .inputs-line {
    background-color: var(--color-surface-c-low);
}

/* Заголовок (темніший, жирний) */
.th-strong .inputs-line {
    background-color: var(--color-surface-c);
}

.h2 .inputs-line {
    border: none;
    padding: 8px 0;
}

/* ============================================ */
/* СТИЛІ ТЕКСТУ */
/* ============================================ */

.italic .input-left,
.italic .input-right {
    font-style: italic;
}

.bold .input-left,
.bold .input-right,
.th-strong .input-left,
.th-strong .input-right {
    font-weight: 700;
}

.added .input-left,
.added .input-right {
    color: var(--color-accent);
}

/* Великий заголовок H2 */
.h2 .input-left {
    font-size: 18px;
    font-weight: 600;
}

/* ============================================ */
/* ПРИХОВУВАННЯ ПРАВОЇ КОЛОНКИ */
/* ============================================ */

.h2 .right,
.single .right,
.colspan2 .right {
    display: none;
}

/* ============================================ */
/* РОЗДІЛЮВАЧ ТАБЛИЦЬ */
/* ============================================ */

.new-table .inputs-line {
    visibility: hidden;
}

/* ============================================ */
/* BORDER RADIUS - БАЗОВІ ПРАВИЛА */
/* ============================================ */

/* За замовчуванням всі рядки без заокруглення */
.inputs-bloc .inputs-line {
    border-radius: 0;
}

/* ============================================ */
/* BORDER RADIUS - ПОЧАТОК І КІНЕЦЬ ГРУП */
/* ============================================ */

/* ПОЧАТОК ГРУПИ (верх заокруглений) */

/* Перший рядок контейнера (якщо він не розділювач) */
.inputs-bloc:first-child:not(.new-table):not(.h2) .inputs-line {
    border-radius: 8px 8px 0 0;
}

/* Рядок після розділювача (початок нової групи) */
.inputs-bloc.new-table + .inputs-bloc:not(.new-table):not(.h2) .inputs-line,
.inputs-bloc.h2 + .inputs-bloc:not(.new-table):not(.h2) .inputs-line {
    border-radius: 8px 8px 0 0;
}

/* КІНЕЦЬ ГРУПИ (низ заокруглений) */

/* Останній рядок контейнера (якщо він не розділювач) */
.inputs-bloc:last-child:not(.new-table):not(.h2) .inputs-line {
    border-radius: 0 0 8px 8px;
}

/* Рядок перед розділювачем (кінець групи) */
.inputs-bloc:not(.new-table):not(.h2):has(+ .inputs-bloc.new-table) .inputs-line,
.inputs-bloc:not(.new-table):not(.h2):has(+ .inputs-bloc.h2) .inputs-line {
    border-radius: 0 0 8px 8px;
}

/* ============================================ */
/* BORDER RADIUS - ЄДИНИЙ РЯДОК */
/* ============================================ */

/* Єдиний рядок в контейнері */
.inputs-bloc:only-child:not(.new-table):not(.h2) .inputs-line {
    border-radius: 8px;
}

/* Єдиний рядок між двома розділювачами */
.inputs-bloc.new-table + .inputs-bloc:not(.new-table):not(.h2):has(+ .inputs-bloc.new-table) .inputs-line,
.inputs-bloc.new-table + .inputs-bloc:not(.new-table):not(.h2):has(+ .inputs-bloc.h2) .inputs-line,
.inputs-bloc.h2 + .inputs-bloc:not(.new-table):not(.h2):has(+ .inputs-bloc.new-table) .inputs-line,
.inputs-bloc.h2 + .inputs-bloc:not(.new-table):not(.h2):has(+ .inputs-bloc.h2) .inputs-line {
    border-radius: 8px;
}

/* Єдиний рядок в контейнері який йде після розділювача і є останнім */
.inputs-bloc.new-table + .inputs-bloc:last-child:not(.new-table):not(.h2) .inputs-line,
.inputs-bloc.h2 + .inputs-bloc:last-child:not(.new-table):not(.h2) .inputs-line {
    border-radius: 8px;
}

/* Єдиний рядок в контейнері який є першим і йде перед розділювачем */
.inputs-bloc:first-child:not(.new-table):not(.h2):has(+ .inputs-bloc.new-table) .inputs-line,
.inputs-bloc:first-child:not(.new-table):not(.h2):has(+ .inputs-bloc.h2) .inputs-line {
    border-radius: 8px;
}
