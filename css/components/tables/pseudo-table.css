/**
 * COMPONENT: Pseudo Table
 *
 * ПРИЗНАЧЕННЯ:
 * Універсальний компонент псевдо-таблиці з фіксованою шапкою.
 * Блок займає весь доступний простір, рядки прокручуються всередині.
 * Шапка прибита до верху і НІКОЛИ не рухається.
 *
 * ВИКОРИСТАННЯ:
 * <div class="pseudo-table-container">
 *   <div class="pseudo-table-header">
 *     <div class="pseudo-table-cell col-2">ID</div>
 *     <div class="pseudo-table-cell col-4">Назва</div>
 *   </div>
 *   <div class="pseudo-table-row">
 *     <div class="pseudo-table-cell col-2">1</div>
 *     <div class="pseudo-table-cell col-4">Контент</div>
 *   </div>
 * </div>
 *
 * РОЗКЛАДКА:
 * Рядки і шапка — flex-контейнери. Клітинки використовують .col-N
 * з grid.css для пропорційної ваги (1-12). Приховані колонки
 * автоматично не займають місця — видимі розтягуються.
 *
 * ЧАРМИ:
 * [compact]  — зменшений padding клітинок (8px 10px)
 * [striped]  — чергування фону парних/непарних рядків
 * [pagination] — пагінація (charm-pagination)
 * [refresh]    — кнопка оновлення (charm-refresh)
 * [columns]    — вибір видимих колонок (charm-columns)
 *
 * КЛАСИ:
 * .pseudo-table-container — зовнішній контейнер зі скролом
 * .pseudo-table-header    — sticky шапка
 * .pseudo-table-row       — рядок даних
 * .pseudo-table-cell      — клітинка (використовує .col-N для ширини)
 * .cell-align-center      — центрування вмісту клітинки
 * .cell-align-end         — вирівнювання вмісту праворуч
 * .header-actions-cell    — шапка колонки дій
 * .column-hidden          — прихована колонка
 *
 * ЗАЛЕЖНОСТІ:
 * - root.css (CSS змінні)
 * - grid.css (.col-N класи для пропорційних розмірів)
 * - avatar-states.css (стани аватарів для empty/error/loading/auth)
 */

/* ============================================ */
/* КОНТЕЙНЕР — «повітря»                        */
/* Без рамок. Фон surface. Округлений.          */
/* ============================================ */

.pseudo-table-container {
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;
    border-radius: var(--radius-l);
    background: var(--color-surface);
}

/* ---- OLD ----
.pseudo-table-container { border: 1px solid var(--color-outline-v); border-radius: var(--radius-m); background-color: var(--color-surface-c-low); }
---- /OLD ---- */

/* ============================================ */
/* ШАПКА — фон, без бордера                     */
/* ============================================ */

.pseudo-table-header {
    position: sticky;
    top: 0;
    z-index: 10;
    display: flex;
    background: var(--color-surface);
    color: var(--color-on-surface-v);
    border-bottom: none;
}

.pseudo-table-header .pseudo-table-cell {
    background: transparent;
    padding: 16px 16px 8px;
    overflow: visible;
    font-size: 12px;
    font-weight: 500;
    letter-spacing: 0.3px;
    text-transform: uppercase;
}

/* ---- OLD ----
.pseudo-table-header { background-color: var(--color-surface-c-low); border-bottom: 1px solid var(--color-outline-v); }
.pseudo-table-header .pseudo-table-cell { background: var(--color-surface); padding: 12px 16px; }
---- /OLD ---- */

/* ============================================ */
/* РЯДКИ — без бордерів, тільки hover           */
/* ============================================ */

.pseudo-table-row {
    display: flex;
    border-radius: var(--radius-s);
    margin: 0 6px;
    transition: background-color 150ms ease;
}

.pseudo-table-row:hover {
    background-color: var(--color-surface-c-low);
}

.pseudo-table-row:last-child {
    border-radius: var(--radius-s);
}

/* Клікабельні рядки */
.pseudo-table-row.clickable-row {
    cursor: pointer;
}

.pseudo-table-row.clickable-row:hover {
    background-color: var(--color-surface-c-low);
}

/* ---- OLD ----
.pseudo-table-row { border-bottom: 1px solid var(--color-outline-v); }
.pseudo-table-row:hover { background-color: var(--color-surface-c); }
.pseudo-table-row.clickable-row:hover { box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
---- /OLD ---- */

/* ============================================ */
/* КЛІТИНКИ                                     */
/* Розмір контролюється через .col-N (grid.css) */
/* ============================================ */

.pseudo-table-cell {
    padding: 12px 16px;
    display: flex;
    align-items: center;
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* ============================================ */
/* ВИРІВНЮВАННЯ КЛІТИНОК                        */
/* ============================================ */

.cell-align-center {
    justify-content: center;
    text-align: center;
}

.cell-align-end {
    justify-content: flex-end;
    text-align: right;
}

/* ============================================ */
/* SORTABLE HEADERS                             */
/* ============================================ */

.sortable-header {
    cursor: pointer;
    user-select: none;
    position: relative;
    gap: 4px;
}

.sortable-header:hover {
    background: var(--color-surface-c);
}

.sort-indicator {
    display: none;
    flex-shrink: 0;
}

.sort-indicator .material-symbols-outlined {
    font-size: 18px;
}

/* Показати іконку тільки при активному сортуванні */
.sortable-header.sorted-asc .sort-indicator,
.sortable-header.sorted-desc .sort-indicator {
    display: flex;
}

/* ============================================ */
/* ЧАРМИ ТАБЛИЦІ                                */
/* ============================================ */

/* compact — зменшений padding */
.pseudo-table-container[compact] .pseudo-table-cell {
    padding: 8px 10px;
}

.pseudo-table-container[compact] .header-actions-cell {
    padding: 4px 8px;
}

/* striped — чергування фону рядків */
.pseudo-table-container[striped] .pseudo-table-row:nth-child(even) {
    background-color: var(--color-surface-c);
}

.pseudo-table-container[striped] .pseudo-table-row:nth-child(even):hover {
    background-color: var(--color-surface-c-high);
}

/* ============================================ */
/* UTILITY CLASSES                              */
/* ============================================ */

/* Приховані колонки */
.pseudo-table-cell.column-hidden {
    display: none !important;
}

/* Header actions cell */
.header-actions-cell {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding: 8px;
}

/* .row-checkbox, .header-select-all — тільки JS-селектори.
   Візуальні стилі всіх checkbox — у checkbox.css */

/* ============================================ */
/* LEGACY TABLE STYLES (Старі варіанти)         */
/* ============================================ */

/* Admin table wrapper */
.admin-table-container {
    padding: 16px 24px;
    overflow-x: auto;
}

.admin-table {
    width: 100%;
    border-collapse: collapse;
    border: 1px solid var(--color-outline-v);
    border-radius: 8px;
    overflow: hidden;
}

/* Table wrapper */
.table-wrapper {
    position: relative;
    overflow-x: auto;
    border: 1px solid var(--color-outline-v);
    border-radius: 8px;
}

/* Entities table */
.entities-table {
    width: 100%;
    border-collapse: collapse;
}

.entities-table th,
.entities-table td {
    padding: 12px 16px;
    text-align: left;
    border-bottom: 1px solid var(--color-outline-v);
}

.entities-table th {
    background: var(--color-surface-c);
    color: var(--color-on-surface-v);
}

.entities-table tr:hover {
    background: var(--color-surface-c-low);
}

/* Merge table */
.merge-table-container {
    overflow-x: auto;
    margin: 16px 0;
}

.merge-table {
    width: 100%;
    border-collapse: collapse;
    border: 1px solid var(--color-outline-v);
    border-radius: 8px;
}

.merge-table th,
.merge-table td {
    padding: 8px 12px;
    border: 1px solid var(--color-outline-v);
}

/* ============================================ */
/* CONTEXTUAL VIEW - Контекст з підсвіткою      */
/* ============================================ */

/* Контейнер фрагменту тексту */
.context-fragment {
    display: block;
    color: var(--color-on-surface);
    white-space: normal;
    word-break: break-word;
}

/* Підсвітка знайденого забороненого слова */
.highlight-banned-word {
    background: var(--color-error-c);
    color: var(--color-error);
    border: 1px solid var(--color-error);
    padding: 2px 4px;
    border-radius: 4px;
    white-space: nowrap;
    display: inline;
    cursor: pointer;
    transition: background-color 0.15s ease, color 0.15s ease;
}

.highlight-banned-word:hover {
    background: var(--color-error);
    color: var(--color-on-error);
    border-color: var(--color-error);
}

/* Flash-ефект при навігації до слова */
@keyframes highlight-flash {
    0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
    50% { box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.4); }
    100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
}

.highlight-banned-word.flash {
    animation: highlight-flash 1.2s ease-out;
}

/* counter — визначено в feedback/counter.css */

/* Текст без даних */
.text-muted {
    color: var(--color-on-surface-v);
    opacity: 0.6;
    font-style: italic;
}

/* ============================================ */
/* WORD CHIPS IN TABLE CELLS */
/* cell-words-list, tag — визначено в feedback/chip.css */
